define("DS/XSRCommonComponents/components/XPLMNew/XSRNewContentOptions",["DS/ENONewWidget/command/NewContentOptions","DS/XSRCommonComponents/utils/RequestUtil","DS/XSRCommonComponents/utils/Utils"],function(e,t,a){return e.singleton({XSR_FACET_MAP:{CALSSIFICATION_FACET:"classificationFacet",RELEASE_SNAP_TEMP_FACET:"releaseSnapshotFacet",MATERIAL_FACET:"MaterialFacet"},setInputsForCmd:e=>{this.parenId=e.parentId,this.dialogLabel=e.dialogHeader,this.appCallBack=e.callbacks,this.dicoType=e.typeDB,this.facetsKey=e.facetsKey},getCreateOptions:e=>{var n=this;const o=(()=>{const e={header:{SecurityContext:t.getSecurityContext()},tenant:t.getPlatformId(),service:"",serviceBaseUrl:""};return Object.assign(e.header,t.getWorkUnderHeaders()),e})(),i=(()=>{const e=[];let t=this.facetsKey;const n={name:"classificationFacet",facetoptions:{isBookmark:!0,isLibrary:!0,isExportControl:!0}},o={name:"releaseSnapshotFacet",facetoptions:{type:this.dicoType}},i={name:"MaterialFacet",facetoptions:{type:this.dicoType}};for(let s=0;s<t.length;s++)switch(t[s]){case"classificationFacet":e.push(n);break;case"releaseSnapshotFacet":a.getTemplateAdminConfig()||e.push(o);break;case"MaterialFacet":e.push(i)}return e})();return{id:widget.id,context:o,silentMode:!1,notification:!0,type:n.dicoType,options:{preferedType:n.dicoType,parentPIDs:n.parenId,parentOrigin:[]},events:{onSuccess:n.appCallBack.onSuccess.bind(this),onFailure:n.appCallBack.onFailure.bind(this),onCancel:e=>{console.log("Dialog closed"),n.appCallBack=void 0}},viewType:"tabView",labelTopBar:n.dialogLabel,facets:i}}})});