define("DS/SpecViewer/IDCard/FreezeZoneContentChangeActionView",["UWA/Core","UWA/Class/View","DS/Controls/TooltipModel","DS/XSRCommonComponents/utils/Utils","DS/LifecycleCmd/MaturityCmd","DS/XSRCommonComponents/utils/Constants","DS/XSRCommonComponents/utils/RequestUtil","DS/SpecViewer/Properties/view/ItemProperties","DS/XSRCommonComponents/utils/ContextManager","DS/XSRCommonComponents/service/XSpecsActionsFactory","i18n!DS/SpecViewer/assets/nls/SpecViewer"],function(e,t,i,n,s,a,o,c,l,r,h){"use strict";return t.extend({setup:function(e){this.target=e.target,this.specModel=e.specModel,this.basicModelEvents=e.appCore.basicModelEvents,this.appCore=e.appCore},render:function(){this._buildView()},_buildView:function(){if(this.hasChange=this.specModel.isChangeControlled(),this.target.empty(),this.hasChange){var t=this.specModel.getChangeActionId();t?this._buildFullView(t):this._buildChangeControlled()}else e.createElement("div",{class:"xsr-idcard-nochange xsr-id-card-placeholder",text:h.placeholder_NoChange}).inject(this.target)},update:function(e){this.specModel=e,this._buildView()},_buildChangeControlled:function(){this._buildbase();var e=this;this.baseLeftDiv.tooltipInfos=new i({shortHelp:h.label_ViewChange,allowUnsafeHTMLShortHelp:!1}),this.baseLeftDiv.addEventListener("click",function(t){e.appCore.triptychManager.isRightPanelOpen()?e.appCore.triptychManager.hideRightPanel():r.information({data:e.specModel,selectFacet:a.FACET_CHANGE})})},_buildFullView:function(t){var n=this.specModel.getChangeActionType(),s=this.specModel.getChangeActionTitle()||this.specModel.getChangeActionName(),a=this.specModel.getChangeActionState(),o=this._buildbase();this.changeTitle=e.createElement("div",{class:"xsr-idcard-changeName",text:s}).inject(o),this.changeTitle.tooltipInfos=new i({shortHelp:s,allowUnsafeHTMLShortHelp:!1}),this.changeState=e.createElement("div",{class:"xsr-idcard-changeState",text:a}).inject(o),this.changeState.tooltipInfos=new i({shortHelp:a,allowUnsafeHTMLShortHelp:!1});var c=this;this.changeTitle.addEventListener("click",function(e){c.launchChangeWidget(t,s,n)}),this.appCore.WorkUnderContext&&this.appCore.WorkUnderContext.setChange({id:t,name:s})},_buildbase:function(){var t=e.createElement("div",{class:"xsr-idcard-changebase"}).inject(this.target),i=n.getIconUrl("I_Change2x");return this.baseLeftDiv=e.createElement("div",{class:"xsr-idcard-changeIcon",styles:{"background-image":i}}).inject(t),e.createElement("div",{class:"xsr-idcard-changeContent"}).inject(t)},launchChangeWidget:function(e,t,i){n.launchTansientWidget({objectId:e,objectType:i,displayName:t,appId:"ENOWCHA_AP"})}})});