define("DS/SpecViewer/MAT/service/MATServiceProvider",["UWA/Class","DS/SpecViewer/MAT/model/MATItemModel","DS/XSRCommonComponents/utils/XInfraRequestUtil","DS/XSRCommonComponents/utils/RequestUtil","DS/XSRCommonComponents/utils/Constants"],function(e,t,n,a,i){"use strict";return e.extend({init:function(e){this.CSRFToken=a.get3DSpaceCSRFToken(),this.tenantID=a.getPlatformId(),this.baseUrl=a.get3DSpaceURL(),this.lang=a.getLanguage(),this.SC=a.getSecurityContext(),e&&(this.appCore=e.appCore,this.currentTabKey=e.currentTabKey,this.modelContainer=e.modelContainer,this.contextItem=e.contextItem)},getServiceURL:function(e){var t=this.baseUrl+e.endpoint;return t.includes("?")?t+"&tenant="+this.tenantID:t+"?tenant="+this.tenantID},createGridModel:function(e){var n=new t(this.appCore).set(e);return n.currentTabKey=this.currentTabKey,n.appCore=this.appCore,n.onContainer=this.myModelConatiner,n.parentNodeModel=this.parentNodeModel,n},getSecurityContext:function(e){var t=e||"3DSpace";return"OnPremise"!==this.tenantID&&"sourcing"===t?this.SC:"ctx::"+widget.getValue("SC")},getHeaders:function(e){var t={"Content-type":"application/json"};return e&&Object.keys(e).forEach(function(n){t[n]=e[n]}),t},listMaterials:function(e){var t=this,n={itemPID:e};return new Promise(function(e,o){a.send3DSpaceRequest(i.MATERIAL_BASE_URL+"dsspec:getAppliedMaterilals","POST",{type:"json",headers:t.getHeaders({ENO_CSRF_TOKEN:t.CSRFToken,SecurityContext:t.getSecurityContext(),"Accept-Language":t.lang}),data:UWA.Json.encode(n)},e,o)})},listCoveringMaterial:function(e){var t=this,n={itemPID:e};return new Promise(function(e,o){a.send3DSpaceRequest(i.MATERIAL_BASE_URL+"dsspec:getCoveringMaterials","POST",{type:"json",headers:t.getHeaders({ENO_CSRF_TOKEN:t.CSRFToken,SecurityContext:t.getSecurityContext(),"Accept-Language":t.lang}),data:UWA.Json.encode(n)},e,o)})},connectCoreMaterial:function(e,t){var n=this,o={itemPID:t,madeOfPID:e};return new Promise(function(e,t){a.send3DSpaceRequest(i.MATERIAL_BASE_URL+"dsspec:applyMaterial","POST",{type:"json",headers:n.getHeaders({ENO_CSRF_TOKEN:n.CSRFToken,SecurityContext:n.getSecurityContext(),"Accept-Language":n.lang}),data:UWA.Json.encode(o)},e,t)})},connectCoveringMaterial:function(e,t){var n=this,o={itemPID:t,coveringMatList:e};return new Promise(function(e,t){a.send3DSpaceRequest(i.MATERIAL_BASE_URL+"dsspec:applyCoveringMaterial","POST",{type:"json",headers:n.getHeaders({ENO_CSRF_TOKEN:n.CSRFToken,SecurityContext:n.getSecurityContext(),"Accept-Language":n.lang}),data:UWA.Json.encode(o)},e,t)})},removeInstance:function(e){var t=this,n={itemPID:e};return new Promise(function(e,o){a.send3DSpaceRequest(i.MATERIAL_BASE_URL+"dsspec:detachMaterial","POST",{type:"json",headers:t.getHeaders({ENO_CSRF_TOKEN:t.CSRFToken,SecurityContext:t.getSecurityContext(),"Accept-Language":t.lang}),data:UWA.Json.encode(n)},e,o)})},removeCoveringMaterials:function(e,t){var n=this,o={itemPID:e,coveringMatList:t};return new Promise(function(e,t){a.send3DSpaceRequest(i.MATERIAL_BASE_URL+"dsspec:detachCoveringMaterials","POST",{type:"json",headers:n.getHeaders({ENO_CSRF_TOKEN:n.CSRFToken,SecurityContext:n.getSecurityContext(),"Accept-Language":n.lang}),data:UWA.Json.encode(o)},e,t)})},updateInstance:function(e){},deleteInstance:function(){}})});