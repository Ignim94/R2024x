define("DS/SpecViewer/Documents/model/RelatedDocumentModel",["UWA/Core","DS/XSRCommonComponents/utils/Utils","DS/SpecGridView/model/GridItemModel","DS/XSRCommonComponents/utils/Constants","DS/XSRCommonComponents/utils/XInfraRequestUtil","i18n!DS/SpecViewer/assets/nls/SpecViewer"],function(e,i,s,t,o,a){"use strict";function r(e){s.call(this),Object.defineProperties(this.options.grid,{comments:{value:void 0,writable:!0,enumerable:!0,configurable:!0},locker:{value:void 0,writable:!0,enumerable:!0,configurable:!0},fileSize:{value:void 0,writable:!0,enumerable:!0,configurable:!0},format:{value:void 0,writable:!0,enumerable:!0,configurable:!0},fileName:{value:void 0,writable:!0,enumerable:!0,configurable:!0},versionId:{value:void 0,writable:!0,enumerable:!0,configurable:!0},hasDeleteAccess:{value:void 0,writable:!0,enumerable:!0,configurable:!0},hasModifyAccess:{value:void 0,writable:!0,enumerable:!0,configurable:!0},hasDownloadAccess:{value:void 0,writable:!0,enumerable:!0,configurable:!0},parentId:{value:void 0,writable:!0,enumerable:!0,configurable:!0},isMultiFile:{value:void 0,writable:!0,enumerable:!0,configurable:!0},isVersionedFile:{value:void 0,writable:!0,enumerable:!0,configurable:!0},"ds6w:docExtension":{value:void 0,writable:!0,enumerable:!0,configurable:!0},fileModified:{value:void 0,writable:!0,enumerable:!0,configurable:!0},fileOriginated:{value:void 0,writable:!0,enumerable:!0,configurable:!0}})}r.prototype=Object.create(s.prototype),r.prototype.getParentInstanceIds=function(){return this.options.grid.instanceIds},r.prototype.isLastVersion=function(){return this.options.grid.isLastVersion};return r.prototype.set=function(e){var s=this,t=function(e){var i,t;(i=[e],t={data:i},new o({id:"fullName"}).invoke(t)).then(function(i){s.options.grid.lockerFullName=i?i[e]:e,s.updateOtherDetails()}).catch(function(e){console.log(e)})};for(var a in e)if(e.hasOwnProperty(a))switch(a){case"id":case"physicalid":this.options.grid.physicalId=e[a];break;case"ds6w:label":let s=e["ds6w:label_value"]?e["ds6w:label_value"]:e["ds6w:label"];this.options.grid["ds6w:label"]=this.options.grid.tree=s;break;case"type_icon_url":case"icons":this.setTypeIcon(e[a]);break;case"preview_url":this.options.grid.preview_url=e[a];break;case"ds6w:description":let o=e["ds6w:description_value"]?e["ds6w:description_value"]:e["ds6w:description"];this.options.grid["ds6w:description"]=this.options.grid.tree=o;break;case"ds6w:type":this.options.grid["ds6w:type"]=e[a];break;case"ds6w:type_value":this.options.grid["ds6w:type_value"]=e[a],this.options.type=e[a];break;case"ds6w:policy":this.options.grid["ds6w:policy"]=e[a];break;case"ds6w:policy_value":this.options.grid["ds6w:policy_value"]=e[a];break;case"ds6w:responsible":this.options.grid["ds6w:responsible"]=this.options.grid.owner=e[a];break;case"ds6w:globalType":this.options.grid["ds6w:globalType"]="ds6w:Document";break;case"ds6w:identifier":this.options.grid["ds6w:identifier"]=this.options.grid.name=e[a];break;case"ds6wg:revision":this.options.grid["ds6wg:revision"]=e[a];break;case"thumbnail_2d":this.setThumbnail2d(e[a]);break;case"thumbnail":this.setThumbnail(e[a]);break;case"ds6w:status":this.options.grid["ds6w:status"]=e[a];break;case"ds6w:status_value":this.options.grid["ds6w:status_value"]=e[a];break;case"ds6w:modified":this.options.grid["ds6w:modified"]=e[a];break;case"ds6w:created":this.options.grid["ds6w:created"]=e[a];break;case"isLastVersion":this.options.grid.isLastVersion=e[a];break;case"instanceId":e[a]&&this.options.grid.instanceIds.push(e[a]);break;case"parentid":case"parentId":this.options.grid.parentId=e[a];break;case"hasDownloadAccess":this.options.grid.hasDownloadAccess=e[a];break;case"hasModifyAccess":this.options.grid.hasModifyAccess=e[a];break;case"hasDeleteAccess":this.options.grid.hasDeleteAccess=e[a];break;case"comments":this.options.grid.comments=e[a];break;case"fileModified":this.options.grid.fileModified=e[a];break;case"fileOriginated":this.options.grid.fileOriginated=e[a];break;case"fileName":this.options.grid.fileName=e[a];break;case"locker":this.options.grid.locker=e[a],e[a]&&t(e[a]);break;case"ds6w:docExtension":this.options.grid["ds6w:docExtension"]=e[a];break;case"isMultiFile":this.options.grid.isMultiFile=e[a];break;case"isVersionedFile":case"versionId":this.options.grid.versionId=e[a];break;case"fileSize":e[a]&&(this.options.grid.fileSize=i.formatBytes(e[a]));break;case"format":this.options.grid.format=e[a];break;case"relType":this.setRelationshipType(e[a])}return this.updateSpecDetails_async(),this.updateAddtitionalValues(),this},r.prototype.getRelationshipType=function(){return this.options.grid.relTypeActualName},r.prototype.getRelationshipTypeDisplayName=function(){return this.options.grid.relType},r.prototype.setRelationshipType=function(e){this.options.grid.relTypeActualName=e,t.RELATED_DOC_REL_NAME===e?this.options.grid.relType=a.label_RelDocuments:t.ANNEX_DOC_REL_NAME===e&&(this.options.grid.relType=a.label_AnnexDocuments)},r.prototype.getFilename=function(){return this.options.grid.fileName},r.prototype.isFileLocked=function(){return!!this.options.grid.locker},r.prototype.getFileLocker=function(){return this.options.grid.lockerFullName},r.prototype.getPreferredTileAttribute=function(){var e=[];e.push("ds6w:status"),e.push("fileSize"),e.push("lockerFullName"),e.push("ds6w:responsible"),e.push("ds6w:modified"),e.push("ds6w:created");var i=this,s=[];return e.forEach(function(e){var t=i.options.grid[e];switch(e){case"fileSize":s.push({name:a.ColumnFileSize,value:t});break;case"ds6w:status":s.push({name:a.label_Maturity,value:t,showMinified:!0});break;case"ds6w:responsible":s.push({name:a.label_Owner,value:t});break;case"ds6w:modified":s.push({name:a.label_LastModified,value:t});break;case"ds6w:created":s.push({name:a.label_CreationDate,value:t});break;case"locker":s.push({name:a.ColumnLockedBy,value:t,showMinified:!0})}}),s},r.prototype.getTileSubLabel=function(){return this.getType()+" | "+this.getName()+" | "+this.getRevision()},r});