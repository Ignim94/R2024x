define("DS/SpecViewer/commands/AdvancedFilter",["DS/ENONextGenFilterCmd/commands/ENONextGenFilterCmd","DS/XSRCommonComponents/utils/Constants","i18n!DS/SpecViewer/assets/nls/SpecViewer"],function(e,t,n){"use strict";return e.extend({init:function(e){this._parent(e)},getAppParams:function(){return{widgetId:widget.id,appId:t.XSR_APP_ID,shareFilterSpec:!0}},getSelectorManager:function(){return this.options.context.appCore.specRouteManager.getCurrentTreeDocument().getXSO()||null},getRoots:function(){return[this.options.context.appCore.specRouteManager.getActiveSpecItem()].map(function(e){return{id:e.getID(),filtered:0,Label:e.getLabel()}})},getSelection:function(){var e={path:[],label:[]},t=this.options.context.appCore.specRouteManager.getCurrentTreeDocument(),n=this.options.context.appCore.specRouteManager.parentNode.getID(),o=this.options.context.appCore.specRouteManager.parentNode.getLabel(),r=t.getSelectedNodes();return r&&r.length>0?(e.path.push([n]),e.label.push([o]),r.forEach(function(t){var n=[];n.push(t.getParentId()),n.push(t.getInstanceId()),n.push(t.getID()),e.path.push(n),e.label.push([t.getLabel()])})):(e.path.push([n]),e.label.push([o])),e}})});