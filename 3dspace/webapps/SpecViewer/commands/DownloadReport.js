define("DS/SpecViewer/commands/DownloadReport",["DS/SpecViewer/commands/CommandBase","DS/XSRCommonComponents/utils/DocumentServiceProvider","DS/XSRCommonComponents/utils/Notification","i18n!DS/SpecViewer/assets/nls/SpecViewer"],function(e,i,t,n){"use strict";return e.extend({init:function(e){e=UWA.extend(e,{isAsynchronous:!1}),this._parent(e)},execute:function(){if(arguments[0]._selectedItems)for(var e=arguments[0]._selectedItems,o=new i,s=function(e,i){var s=e.itemTitle;if(i.isPDFAvailable){var r={itemPid:e.itemPid};return o.downloadPDFReport(r)}t.displayNotification({eventID:"warning",msg:s+" : "+n.Message_NoSpeReport})},r=0;r<e.length;r++){var a=e[r],m=a.getSpecReportPid(),c=a.getID(),d=a.getTitle();if(m){var l={itemPid:c};o.isPDFReportCheckedIn(l).then(s.bind(this,{itemPid:c,itemTitle:d}))}else t.displayNotification({eventID:"error",msg:d+" : "+n.Message_NoTemplate})}}})});