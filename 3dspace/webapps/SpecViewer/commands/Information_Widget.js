define("DS/SpecViewer/commands/Information_Widget",["DS/SpecViewer/commands/CommandBase","DS/XSRCommonComponents/utils/RequestUtil","DS/EditPropWidget/EditPropComponent","DS/EditPropWidget/constants/EditPropConstants","DS/TransientWidget/TransientWidget","DS/XSRCommonComponents/utils/Constants","DS/EditPropWidget/models/EditPropModel","i18n!DS/SpecViewer/assets/nls/SpecViewer"],function(e,t,n,i,o,s,a,r){"use strict";return e.extend({init:function(e){this._parent(e)},execute:function(){var e=arguments[0]._selectedItems,t=arguments[0].commandId,n=e;if(n.length>=1){var i=n[0];i.getID();this.modelEvents="ENOSPEC_AP"===widget.data.appId?i.appCore.specViewerModelEvents:i.appCore.basicModelEvents,this.initEditProps(i,t)}},initEditProps:function(e,o){var d=t.getSecurityContext().replace("ctx::",""),p=[i.FACET_PROPERTIES],c=this,l=i.FACET_PROPERTIES;"Open_Alternates"==o&&(l="alternateFacet");var E={typeOfDisplay:i.ALL,selectionType:i.RESTRICTED_SELECTION,facets:p,readOnly:!1,extraNotif:!0,editMode:!1,defaultFacetName:l,multiselection:!1,displayType:i.TRANSIENT,setCloseButton:!1,events:{onNotification:function(e){console.log("inside on notification")},onCancel:function(){c.editPropView.destroy(),c.modelEvents.publish({event:"xsr-unload-mask"})}},context:{getSecurityContext:function(){return{SecurityContext:d}}}};if(0!=widget.getElements(".EPP_PopupDial").length)e.appCore.TransientWidget.selectFacet(l);else{c.modelEvents.publish({event:"xsr-load-mask"});var u=[];c.editPropView=new n(E),c.editPropView.addFacets([{require:"DS/ENOXAlternateSubstitute/facets/AlternateFacet",alwaysVisible:!0,services:["3DSpace"],inheritance:!0,content:null,facet:{name:"alternateFacet",icon:"exchange",text:r.label_Alternates},options:{appContext:e.appCore}}]);var m=new a({metatype:e.metatype||"businessobject",objectId:e.getID(),tenant:t.getPlatformId(),source:s.SERVICE_3DSPACE_NAME});u.push(m),c.editPropView.show(u),e.appCore.TransientWidget=c.editPropView}}})});