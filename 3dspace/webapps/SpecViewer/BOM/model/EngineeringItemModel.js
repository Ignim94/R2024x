define("DS/SpecViewer/BOM/model/EngineeringItemModel",["DS/SpecGridView/model/GridItemModel","DS/XSRCommonComponents/utils/Utils","DS/XSRCommonComponents/utils/TypeUtils","DS/XSRCommonComponents/utils/Constants","i18n!DS/SpecViewer/assets/nls/SpecViewer"],function(t,e,i,s,n){"use strict";function o(e){this.showChildren=e.shouldDisplayChildren,t.call(this),Object.defineProperties(this.options,{instanceId:{value:void 0,writable:!0,enumerable:!0,configurable:!0}}),Object.defineProperties(this.options.grid,{"ds6w:cadMaster":{value:void 0,writable:!0,enumerable:!0,configurable:!0},partNumber:{value:void 0,writable:!0,enumerable:!0,configurable:!0},instanceCount:{value:1,writable:!0,enumerable:!0,configurable:!0},quantity:{value:1,writable:!0,enumerable:!0,configurable:!0},unit:{value:n.EA,writable:!0,enumerable:!0,configurable:!0},unitNLS:{value:n.EA,writable:!0,enumerable:!0,configurable:!0},parentId:{value:void 0,writable:!0,enumerable:!0,configurable:!0},instanceId:{value:void 0,writable:!0,enumerable:!0,configurable:!0},instanceIds:{value:[],writable:!0,enumerable:!0,configurable:!0},instanceName:{value:void 0,writable:!0,enumerable:!0,configurable:!0},instanceTitle:{value:void 0,writable:!0,enumerable:!0,configurable:!0},instanceType:{value:void 0,writable:!0,enumerable:!0,configurable:!0},masterTitle:{value:"",writable:!0,enumerable:!0,configurable:!0},masterIdentifier:{value:"",writable:!0,enumerable:!0,configurable:!0},Alternate:{value:"",writable:!0,enumerable:!0,configurable:!0},"ds6w:alternate":{value:n.label_no,writable:!0,enumerable:!0,configurable:!0},coreMaterialId:{value:void 0,writable:!0,enumerable:!0,configurable:!0},coreMaterial:{value:void 0,writable:!0,enumerable:!0,configurable:!0},isComputed:{value:void 0,writable:!0,enumerable:!0,configurable:!0},referenceNameList:{value:[],writable:!0,enumerable:!0,configurable:!0},isFullyLoaded:{value:!1,writable:!0},isMakeFromFullyLoaded:{value:!1,writable:!0},referenceArrayList:{value:[],writable:!0,enumerable:!0,configurable:!0}})}return o.prototype=Object.create(t.prototype),o.prototype.setCurrentPath=function(t){null!=t.parentNodeModel&&(this.currentPath=t.parentNodeModel.getCurrentPath().slice()+"/"+t.getInstanceId()+"/"+t.getID())},o.prototype.getCurrentPath=function(){return this.currentPath},o.prototype.setInstanceCount=function(t){this.options.grid.instanceCount=this.options.grid.quantity=t},o.prototype.getInstanceCount=function(){return this.options.grid.quantity},o.prototype.addInstanceIds=function(t){t&&(this.options.grid.instanceIds.push(t),this.options.grid.instanceCount=this.options.grid.quantity=this.options.grid.instanceIds.length)},o.prototype.getParentId=function(){return this.options.grid.parentId},o.prototype.setParentId=function(t){this.options.grid.parentId=t},o.prototype.setParentNode=function(t){this.options.grid.parentNode=t},o.prototype.removeInstanceIds=function(t){if(t&&Array.isArray(t)){var e=this;t.forEach(function(t){var i=e.options.grid.instanceIds.indexOf(t);e.options.grid.instanceIds.splice(i,1)})}else if(t){var i=this.options.grid.instanceIds.indexOf(t);this.options.grid.instanceIds.splice(i,1)}this.options.grid.instanceCount=this.options.grid.quantity=this.options.grid.instanceIds.length},o.prototype.getParentInstanceIds=function(){return this.options.grid.instanceIds},o.prototype.getParentNode=function(){return this.options.grid.parentNode},o.prototype.getInstanceCount=o.prototype.getQuantity=function(){return this.options.grid.instanceCount||this.options.grid.quantity},o.prototype.getPartNumber=function(){return this.options.grid.partNumber},o.prototype.setPartNumber=function(t){this.options.grid.partNumber=this.options.grid["ds6wg:EnterpriseExtension.V_PartNumber"]=t},o.prototype.getMasterTitle=function(){return this.options.grid.masterTitle},o.prototype.setMasterTitle=function(t){this.options.grid.masterTitle=t},o.prototype.isLastVersion=function(){return this.options.grid.isLastVersion},o.prototype.setLastVersion=function(t){this.options.grid.isLastVersion=this.options.grid["ds6wg:PLMReference.V_isLastVersion"]=t},o.prototype.getMasterIdentifier=function(){return this.options.grid.masterIdentifier},o.prototype.setMasterIdentifier=function(t){this.options.grid.masterIdentifier=t},o.prototype.getInstanceTitle=function(){return this.options.grid.instanceTitle},o.prototype.getInstanceName=function(){return this.options.grid.instanceName},o.prototype.getRelationID=function(){return"function"==typeof this.getParentInstanceIds?this.getParentInstanceIds()[0]:""},o.prototype.setInstanceTitle=function(t){this.options.grid.instanceTitle=t},o.prototype.setInstanceName=function(t){this.options.grid.instanceName=t},o.prototype.setTitle=function(t){this.options.grid["ds6w:label"]=this.options.grid.tree=t},o.prototype.getInstanceId=function(t){return this.options.grid.instanceId},o.prototype.setInstanceId=function(t){this.options.grid.instanceId=this.options.instanceId=t},o.prototype.syncInstances=function(t){let i=this;if(i.setDescription(t.getDescription()),i.setTitle(t.getTitle()),i.setLabel(t.getTitle()),i.setCurrentAccess(t.getCurrentAccess()),i.setPartNumber(t.getPartNumber()),i.setReserved(t.getReserved()),i.setOwner(t.getOwner()),i.setMaturity(t.getMaturity()),i.setMaturityActualName(t.getMaturityActualName()),i.setModifedDate(t.getModifedDate()),i.setLastVersion(t.isLastVersion()),i.setMasterIdentifier(t.getMasterIdentifier()),i.setMasterTitle(t.getMasterTitle()),i.getCQInstance()&&i.getInstanceId()==t.getInstanceId()&&(i.setAsRequired(t.getAsRequired()),i.setQuantity(t.getQuantity()),i.setUnit(t.getUnit()),i.setDimensionType(t.getDimensionType())),i.getCQInstance()||null!=i.getMadeFrom()||i.getParentId()!=t.getParentId()||i.setInstanceCount(t.getInstanceCount()),i.options.grid)for(let s in i.options.grid)!s.startsWith("bom")&&!s.startsWith("formulatedbom")||e.isInstanceAttribute(s,i.currentTabKey)||i.setAttribute(s,t.options.grid[s]);i.updateOptions(i.options)},o.prototype.getGlobalType=function(){return this.options.grid["ds6w:globalType"]},o.prototype.getDisplayAlternate=function(){return this.options.grid["ds6w:alternate"]},o.prototype.getAlternate=function(){return this.options.grid.Alternate},o.prototype.setDisplayAlternate=function(t){this.options.grid["ds6w:alternate"]=t},o.prototype.setAlternate=function(t){this.options.grid.Alternate=t},o.prototype.isEngineeringItem=function(){var t=!1;return i.isPhysicalProduct(this.getTypeActualName())&&(t=!0),t},o.prototype.getAsRequired=function(){return this.options.grid.asRequired},o.prototype.getCQInstance=function(){return this.options.grid.CQInstance},o.prototype.setCQInstance=function(t){this.options.grid.CQInstance=t},o.prototype.getAsRequiredActualValue=function(){return this.options.grid.asRequiredActualValue},o.prototype.setAsRequired=function(t){this.options.grid.asRequired=t},o.prototype.getMadeFrom=function(){return this.options.grid.madeFrom},o.prototype.setMadeFrom=function(t){this.options.grid.madeFrom=t},o.prototype.setMBMFChild=function(t){this.options.grid.MBMFChild=t},o.prototype.getMBMFChild=function(t){return this.options.grid.MBMFChild},o.prototype.setMBMFAtRootLevel=function(t){this.options.grid.MBMFAtRootLevel=s.GRID_OPTION_YES},o.prototype.getMBMFAtRootLevel=function(t){return this.options.grid.MBMFAtRootLevel},o.prototype.setDimensionType=function(t){var e;this.options.grid.dimensionType=(e=t)&&e.startsWith("DSDim_")?(t=>t&&t[0].toUpperCase()+t.slice(1))(e=e.replace("DSDim_","").toLowerCase()):e},o.prototype.getDimensionType=function(){return this.options.grid.dimensionType},o.prototype.getUOMUnitsDBNLSMap=function(){return this.options.grid.UOMUnitsDBNLSMap},o.prototype.setUOMUnitsDBNLSMap=function(t){this.options.grid.UOMUnitsDBNLSMap=t},o.prototype.getQuantity=function(){return this.options.grid.quantity},o.prototype.setQuantity=function(t){return this.options.grid.quantity=t},o.prototype.getQtyAndUnit=function(){return this.options.grid.qty_unit},o.prototype.setQtyAndUnit=function(t){this.options.grid.qty_unit=t},o.prototype.getCoreMatId=function(){return this.options.grid.coreMaterialId},o.prototype.setCoreMatId=function(t){this.options.grid.coreMaterialId=t},o.prototype.getCoreMat=function(){return this.options.grid.coreMaterial},o.prototype.setCoreMat=function(t){this.options.grid.coreMaterial=t},o.prototype.getMBMFReferenceName=function(){return this.options.grid.referenceName},o.prototype.getUnit=function(){return this.options.grid.unit},o.prototype.setUnit=function(t){this.options.grid.unit=t},o.prototype.setUnitNLS=function(t){this.options.grid.unitNLS=t},o.prototype.getUnitNLS=function(){return this.options.grid.unitNLS},o.prototype.setAddMatInfoParent=function(t){this.options.grid.matInfoOnParent=t},o.prototype.getAddMatInfoParent=function(){return this.options.grid.matInfoOnParent},o.prototype.getMBMFAttrModifyAccess=function(){return this.options.grid.modifyMBMFAttrAccess},o.prototype.getModelType=function(){return this.options.grid.modelType},o.prototype.set=function(t,n){for(var o in t)if(t.hasOwnProperty(o))switch(o){case"level":this.options.grid.level=t[o];break;case"resourceid":case"physicalid":case"id":case"madeFromProductID":this.options.grid.physicalId=t[o];break;case"ds6w:label":case"madeFromProductTitle":case"title":this.options.grid["ds6w:label"]=this.options.grid.tree=t[o];break;case"type_icon_url":case"icons":case"icon":this.setTypeIcon(t[o]);break;case"preview_url":this.options.grid.preview_url=t[o];break;case"ds6w:description":case"description":this.options.grid["ds6w:description"]=t[o];break;case"ds6w:globalType":this.options.grid["ds6w:globalType"]=t[o];break;case"ds6w:reserved":this.options.grid["ds6w:reserved"]=t[o];break;case"ds6w:cadMaster":if(t[o]){var r=e.getIconFormXSR("I_"+t[o]);this.options.grid["ds6w:cadMaster"]=r}break;case"ds6w:type":this.options.grid["ds6w:type"]=t[o];break;case"ds6w:type_value":this.options.grid["ds6w:type_value"]=t[o],this.options.type=t[o];break;case"ds6w:policy":this.options.grid["ds6w:policy"]=t[o];break;case"ds6w:policy_value":this.options.grid["ds6w:policy_value"]=t[o];break;case"ds6wg:PLMReference.V_isLastVersion":case"ds6w:when/ds6w:isLastRevision":this.options.grid.isLastVersion=this.options.grid["ds6wg:PLMReference.V_isLastVersion"]=t[o];break;case"ds6w:reservedBy":this.options.grid["ds6w:reservedBy"]=t[o];break;case"ds6wg:EnterpriseExtension.V_PartNumber":t[o]?this.options.grid.partNumber=this.options.grid["ds6wg:EnterpriseExtension.V_PartNumber"]=t[o]:this.options.grid.partNumber=this.options.grid["ds6wg:EnterpriseExtension.V_PartNumber"]="";break;case"ds6w:responsible":case"owner":this.options.grid["ds6w:responsible"]=this.options.grid.owner=t[o];break;case"ds6w:identifier":case"name":this.options.grid["ds6w:identifier"]=this.options.grid.name=t[o];break;case"ds6wg:revision":case"revision":this.options.grid["ds6wg:revision"]=t[o];break;case"thumbnail_2d":this.setThumbnail2d(t[o]);break;case"thumbnail":this.setThumbnail(t[o]);break;case"ds6w:status":this.options.grid["ds6w:status"]=t[o];break;case"ds6w:status_value":case"maturity":this.options.grid["ds6w:status_value"]=t[o];break;case"ds6w:modified":case"modified":this.options.grid["ds6w:modified"]=t[o];break;case"ds6w:lastModifiedBy":this.options.grid["ds6w:lastModifiedBy"]=t[o];break;case"ds6w:created":case"created":this.options.grid["ds6w:created"]=t[o];break;case"instanceId":t[o]&&(this.options.grid.instanceIds.push(t[o]),this.options.instanceId=this.options.grid.instanceId=t[o],this.options.relationid=this.options.grid.relationid=t[o]);break;case"parentid":case"parentId":this.options.grid.parentId=t[o];break;case"instanceName":this.options.grid.instanceTitle=this.options.grid.instanceName=t[o];break;case"instanceType":this.options.grid.instanceType=t[o];break;case"asRequired":this.options.grid.asRequired=t[o],this.options.grid.asRequiredActualValue=t[o];break;case"quantity":this.options.grid.quantity=t[o];break;case"madeFrom":if(t[o]){var a=e.getIconFormXSR("I_PartMakeFrom");this.options.grid.madeFrom=a,!t.madeFromProductType||i.isRawMaterial(t.madeFromProductType.dbName)||t.quantity||(this.options.grid.unit="")}break;case"madeFromProductType":this.options.grid["ds6w:type_value"]=t[o].dbName,this.options.grid["ds6w:type"]=t[o].nlsLabel;break;case"madeFromRelationId":this.options.grid.madeFromRelationId=t[o];break;case"ReferenceName":this.options.grid.referenceName=t[o],this.options.grid.referenceName&&(this.options.grid.modifyMBMFAttrAccess=!1);break;case"MakeFrom_extensions":this.options.grid.makeFromExtensionsDBName=t[o].dbName,this.options.grid.makeFromExtensionsNLSName=t[o].nlsLabel,this.options.grid.makeFromExtensionsAttr=t[o].attributes;break;case"dimensionType":if(!t[o])continue;this.options.grid.dimensionType=t[o].dbName?t[o].dbName:t[o],this.options.grid.dimensionTypeNLS=t[o].nlsLabel?t[o].nlsLabel:t[o],this.setDimensionType(this.options.grid.dimensionType);break;case"unit":this.options.grid.unit=t[o].dbName?t[o].dbName:t[o],this.options.grid.unitNLS=t[o].nlsLabel?t[o].nlsLabel:t[o];break;case"UOMUnitsDBNLSMap":this.options.grid.UOMUnitsDBNLSMap=t[o];break;case"quantityMBMF":case"qty_unit":this.options.grid.qty_unit=t[o];break;case"coreMaterialId":this.options.grid.coreMaterialId=t[o];break;case"coreMaterial":this.options.grid.coreMaterial=t[o];break;case"CQInstance":this.options.grid.CQInstance=t[o];break;case"isComputed":this.options.grid.isComputed=t[o];break;case"treeOrder":this.options.treeOrder=t[o];break;case"uom":this.options.grid.uom=t[o];break;case"isMakeFromFullyLoaded":this.options.grid.isMakeFromFullyLoaded=t[o];break;default:this.options.grid.modelType=s.ENGG_ITEM_MODEL}return null!=n&&!0!==n||(this.updateSpecDetails_async(),this.updateOtherDetails()),this},o.prototype.setCustomAttributes=function(t){for(let e in t)this.options.grid[e]=t[e]},o.prototype.setSpecAndRelatedInfoObjectMask=function(t){for(let e in t)this.options.grid[e]=t[e]},o.prototype.getPreferredTileAttribute=function(t){var e=[];t?e.push("quantity"):e.push("instanceTitle"),e.push("ds6w:status"),e.push("ds6w:responsible"),e.push("asRequired"),e.push("ds6w:alternate"),e.push("ds6w:modified"),e.push("ds6w:created");var i=this,s=[];return e.forEach(function(t){var e,o=i.options.grid[t];if("ds6w:alternate"==t){"Yes"!==i.options.grid.Alternate&&(o=n.label_no)}"quantity"==t&&("null "!=(e=""==i.options.grid.unit?i.options.grid.quantity+" "+i.options.grid.unit:i.options.grid.quantity+" "+i.options.grid.unitNLS)&&"null EA (each)"!=e&&"undefined EA (each)"!=e||!i.getAsRequired()||(e="-"));switch("asRequired"==t&&(i.getCQInstance()||i.getMadeFrom())&&(o=o?n.label_True:n.label_False),t){case"ds6w:status":s.push({name:n.label_Maturity,value:o,showMinified:!0});break;case"quantity":s.push({name:n.Quantity,value:e,showMinified:!0});break;case"instanceTitle":s.push({name:n.label_InstanceTitle,value:o,showMinified:!0});break;case"ds6w:responsible":s.push({name:n.label_Owner,value:o});break;case"asRequired":s.push({name:n.label_AsNeeded,value:o});break;case"ds6w:modified":s.push({name:n.label_LastModified,value:o});break;case"ds6w:created":s.push({name:n.label_CreationDate,value:o});break;case"ds6w:alternate":s.push({name:n.label_Alternate,value:o})}}),s},o.prototype.getTileSubLabel=function(){return(this.getPartNumber()?this.getPartNumber()+" | ":"")+this.getType()+" | "+this.getName()+" | "+this.getRevision()},o.prototype.IsComputed=function(){return this.options.grid.isComputed},o.prototype.setReferenceNameList=function(t){this.options.grid.referenceNameList=t},o.prototype.getReferenceNameList=function(){return this.options.grid.referenceNameList},o.prototype.setCustomDimensionType=function(t){var e;this.options.grid.customDimensionType=(e=t)&&e.startsWith("DSDim_")?(t=>t&&t[0].toUpperCase()+t.slice(1))(e=e.replace("DSDim_","").toLowerCase()):e},o.prototype.getCustomDimensionType=function(){return this.options.grid.customDimensionType},o.prototype.getCustomUnit=function(){return this.options.grid.customUnit},o.prototype.setCustomUnit=function(t){this.options.grid.customUnit=t},o.prototype.setreferenceArrayList=function(t){this.options.grid.referenceArrayList.includes(t)||this.options.grid.referenceArrayList.push(t)},o.prototype.getreferenceArrayList=function(){return this.options.grid.referenceArrayList},o.prototype.removereferencevalue=function(t){if(t){var e=this.options.grid.referenceArrayList.indexOf(t);this.options.grid.referenceArrayList.splice(e,1)}},o});