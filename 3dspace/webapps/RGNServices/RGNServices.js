define("DS/RGNServices/RGNServices",["require","exports","DS/i3DXCompassPlatformServices/i3DXCompassPlatformServices"],function(e,t,i){"use strict";function r(e,t){let i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("download",e),document.body.appendChild(i),i.click(),document.body.removeChild(i)}function o(e,t){return new Promise((r,o)=>{i.getServiceUrl({serviceName:e,platformId:t,onComplete:function(e){let t=e;"object"==typeof t&&(t=e[0].url),"string"==typeof t?r(t):o(e)},onFailure:function(e){o(e)}})})}Object.defineProperty(t,"__esModule",{value:!0}),t.getServiceURL=t.get3DSpaceURL=t.downloadUrl=t.downloadBlob=t.download=void 0,t.download=function(e,t,i){r(e,i?window.URL.createObjectURL(t):t)},t.downloadBlob=function(e,t){r(e,window.URL.createObjectURL(t))},t.downloadUrl=r,t.get3DSpaceURL=function(e){return o("3DSpace",e)},t.getServiceURL=o}),define("DS/RGNServices/Alert",["require","exports","DS/Notifications/NotificationsManagerUXMessages","DS/Notifications/NotificationsManagerViewOnScreen"],function(e,t,i,r){"use strict";function o(e){return function(e){return void 0!==e.message}(e)?e.message:String(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getMessage=t.info=t.error=void 0,r.setNotificationManager(i),t.error=function(e,t){i.addNotif({level:"error",message:o(e)+(t?`: ${o(t)}`:""),sticky:!0})},t.info=function(e,t){i.addNotif({level:"info",message:o(e)+(t?`: ${o(t)}`:""),sticky:!1})},t.getMessage=o}),define("DS/RGNServices/FederatedSearch",["require","exports","module","DS/Logger/Logger","UWA/Utils/InterCom"],function(e,t,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.search=t.destroy=t.init=void 0;const n=r.getLogger(i);let d;function c(e){return void 0!==e&&void 0!==e.socket}function a(e){return new Error(e)}t.init=function(e,t=!0){if(c(d))return d;let i=new o.Socket(e,{dispatchRetryInterval:0});if(!i)throw a("Failed to create socket");let r={socket:i,widgetId:e,socketId:e,multipleSelection:t};return i.subscribeServer("SearchComServer"),d=r,r},t.destroy=function(e){n.debug("destroy FederatedSearch service"),null!=e||(e=d),c(e)&&(e.socket.dispatchEvent("UnregisterContext",{widget_id:e.widgetId}),e.socket.disconnect(),e.socket=void 0,e===d&&(d=void 0))},t.search=async function(e,t=function(){},i=function(){}){let r=d;if(!c(r))throw n.error("FederatedSearch is uninitialized"),a("FederatedSearch is uninitialized");let o=async function(e,t,i){return new Promise((r,o)=>{if(!c(e))throw n.error("FederatedSearch is not initialized"),new Error("FederatedSearch is not initialized");e.socket.dispatchEvent("RegisterContext",{title:"Search results",role:"",mode:"furtive",default_with_precond:!0,precond:"",show_precond:!1,multiSel:i,idcard_activated:!1,select_result_max_idcard:!1,itemViewClickHandler:"",app_socket_id:e.socketId,widget_id:e.widgetId,search_delegation:"3dsearch"}),e.socket.addListener("Selected_Objects_search",e=>r(e)),e.socket.addListener("clearSearch",()=>o(new Error("clearSearch"))),e.socket.dispatchEvent("InContextSearch",t)})}(r,function(e,t){if("string"==typeof t){const e=t;t={default_search_criteria:e}}return"object"!=typeof t&&(t={}),void 0===t.title&&(t.title="search results"),void 0===t.role&&(t.role=""),void 0===t.mode&&(t.mode="default"),void 0===t.default_with_precond&&(t.default_with_precond=!0),void 0===t.precond&&(t.precond=""),void 0===t.show_precond&&(t.show_precond=!1),void 0===t.multiSel&&(t.multiSel=!1),void 0===t.idcard_activated&&(t.idcard_activated=!0),void 0===t.select_result_max_idcard&&(t.select_result_max_idcard=!1),void 0===t.itemViewClickHandler&&(t.itemViewClickHandler=""),void 0===t.app_socket_id&&(t.app_socket_id=e.socketId),void 0===t.widget_id&&(t.widget_id=e.widgetId),void 0===t.search_delegation&&(t.search_delegation="3dsearch"),t}(r,e),r.multipleSelection);return o.then(t),o.catch(i),o}}),define("DS/RGNServices/WAFDataUtil",["require","exports","DS/WAFData/WAFData"],function(e,t,i){"use strict";function r(e){return"json"===(null==e?void 0:e.type)}Object.defineProperty(t,"__esModule",{value:!0}),t.authenticatedRequest=void 0,t.authenticatedRequest=function(e,t,o,n,d,c=25e3){return r(d)&&(n=Object.assign({"Content-Type":"application/json; charset=UTF-8"},n)),new Promise((a,s)=>{const l=Object.assign({method:e,headers:n,type:o,timeout:c,onComplete:e=>a(e),onFailure:(e,t)=>s(function(e,t){try{return{error:e,message:(t instanceof Object?t:JSON.parse(t)).message||e.message,response:t}}catch(i){return{error:e,message:e.message,response:t}}}(e,t)),onTimeout:()=>s({error:new Error("Timeout"),message:"Timeout"})},d?{data:r(d)?JSON.stringify(d.payload):d.payload}:void 0);return i.authenticatedRequest(t,l)})}});