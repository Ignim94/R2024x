define("DS/ENOCharacteristicsWebApp/controls/CharacteristicsToolbarControl",["UWA/Core","UWA/Controls/Abstract","DS/UIKIT/Input/Button","DS/ENOFrameworkPlugins/jQuery","DS/UIKIT/Mask","DS/ENOCharacteristicsWebApp/utils/RequestUtils","DS/ENOCharacteristicsWebApp/utils/Constants","DS/ENOCharacteristicsWebApp/utils/ComponentUtil","DS/ENOCharacteristicsWebApp/utils/UIUtil","DS/ENOCharacteristicsWebApp/controls/CreateCharacteristics","DS/ENOCharacteristicsWebApp/controls/ExportCharacteristics","DS/ENOCharacteristicsWebApp/controls/EditColumnSettings","DS/ENOCharacteristicsWebApp/controls/TextFilterBox","DS/ENOCharacteristicsWebApp/commands/CreateFromMaster","i18n!DS/ENOCharacteristicsWebApp/assets/nls/ENOCharacteristicsWebAppNLS","DS/ENOCharacteristicsWebApp/utils/AlertManager"],function(t,e,a,i,s,r,n,c,l,o,p,d,m,h,C,g){"use strict";C.GodFilter;return e.extend({mManager:null,mCreateCharForm:null,mEditColumnViewForm:null,init:function(e){this._parent(e),this.mManager=e.manager,this.mObjectId=e.objectId,this.isInstantiatedIn3DD=e.manager.mCharacteristicsApp.isInstantiatedIn3DDashboard(),this.objectActualType=e.manager.mCharacteristicsApp.objActualType,this.parentApp=e.manager.mCharacteristicsApp.mParentApp,this.elements.container=new t.Element("div",{class:"enogls-chrts-editor-toolbar"}),1==this.isInstantiatedIn3DD&&this.parentApp==n.DELMIA_APP&&this.elements.container.hide()},render:function(){var e=r.getAppsBaseUrl(),u=this,E=u.objectActualType,b=!1;t.createElement("ul",{id:"actionBar",class:"main-actionbar row",html:[{tag:"li",class:"active",html:"&nbsp;&nbsp;&nbsp;"},{tag:"li",id:"createCharacteristicsLink",class:"active",html:{tag:"a",href:"javascript:void(0)",id:"dropdown-menu",html:[{tag:"img",title:C.CreateCharacteristics,src:e+"/webapps/ENOCharacteristicsWebApp/assets/icons/32/iconActionCreate.png",height:"32px",width:"32px"}]},events:{click:function(){if(console.log("Create Triggered: "+b),!b){b=!0;var t=r.getGLSWebServiceURL()+n.CHARACTERISTICS_ENDPOINT;r.send3DSpaceRequest(t+"getdimensionpreferences","GET",{type:"json",headers:{"Content-type":"application/x-www-form-urlencoded"}},function(t){null==u.mCreateCharForm?u.mCreateCharForm=new o(u.mManager.mRootItem,t,u.mManager):u.mCreateCharForm.pushFormContent(t,u.mManager),b=!1},function(t,e){g.displayErrorResponse(null,e),u.dataError,b=!1})}}}},{tag:"li",id:"createFromMasterLink",class:E==n.TYPE_VPMREFERENCE?"hidden-characteristics-menu":"active",html:{tag:"a",href:"javascript:void(0)",id:"dropdown-menu",html:[{tag:"img",title:C.CreateFromMaster,src:e+"/webapps/ENOCharacteristicsWebApp/assets/icons/32/CreateFromCM.png",height:"32px",width:"32px"}]},events:{click:function(){var t="/characteristic/CharacteristicMaster3dSearchIntermediate.jsp?field=TYPES=type_CharacteristicMaster:CURRENT=policy_CharacteristicMaster.state_Released&table=AEFGeneralSearchResults&showInitialResults=true&selection=multiple&submitAction=refreshCaller&changeId="+r.getWorkUnderChange()+"&objectId="+u.mObjectId+"&showRMB=false&submitURL=../characteristic/CharacteristicMasterAddExistingOnPart.jsp&mode=AddExistingCMonPart";document.getElementById("ENOCharSearchFrame").src=e+t;var a={cmdContext:u};if(1==u.isInstantiatedIn3DD)new h(a)}}},{tag:"li",id:"evaluateCriteriaLink",class:E==n.TYPE_VPMREFERENCE?"hidden-characteristics-menu":"active",html:{tag:"a",href:"javascript:void(0)",id:"dropdown-menu",text:"Evaluate Criteria",html:[{tag:"img",title:C.EvaluateCriteria,src:e+"/webapps/ENOCharacteristicsWebApp/assets/icons/32/AutoCreateBasedOnCriteria.png",height:"32px",width:"32px"}]},events:{click:function(){var t=u.mManager.mRootItem.mWebAppViewContainer;s.mask(t),c.evaluateCriteria(u.mManager)}}},{tag:"li",id:"deleteCharacteristicsLink",class:"active",html:{tag:"a",href:"javascript:void(0)",id:"dropdown-menu",html:{tag:"img",title:C.DeleteCharacteristics,src:e+"/webapps/ENOCharacteristicsWebApp/assets/icons/32/iconActionDelete.png",height:"32px",width:"32px"}},events:{click:function(){l.deleteCharacteristics(u.mManager)},onready:function(){}}},{tag:"li",id:"editColumnSettingsLink",class:"active",html:{tag:"a",href:"javascript:void(0)",id:"dropdown-menu",html:[{tag:"img",title:C.EditViewColumns,src:e+"/webapps/ENOCharacteristicsWebApp/assets/icons/32/I_ActionCustomColumns.png",height:"32px",width:"32px"}]},events:{click:function(){null==u.mEditColumnViewForm?u.mEditColumnViewForm=new d(u.mManager):u.mEditColumnViewForm.pushFormContent(u.mManager)}}},{tag:"li",id:"exportCharacteristicsLink",class:"active",html:{tag:"a",href:"javascript:void(0)",id:"export",html:{tag:"img",title:C.Export,src:e+"/webapps/ENOCharacteristicsWebApp/assets/images/iconActionExcelExport.png\t",height:"32px",width:"32px"}},events:{click:function(){!0===i("#saveEdit").prop("disabled")||"none"===i("#saveEdit")[0].style.display?p.downloadVisibleContentAsCSV(u.mManager):alert(C.ExportUnSavedDataAlert)},onready:function(){}}},{tag:"li",id:"FilterViewByMatchText",class:"active",html:new m({CharacteristicsControl:u.mManager,CharacteristicsWindow:!0===u.isInstantiatedIn3DD?widget.title:""})},{tag:"li",class:"editCommand",html:"&nbsp;&nbsp;&nbsp;&nbsp;"},{tag:"li",class:!0===u.isInstantiatedIn3DD?"hidden-characteristics-menu":"active editCommand",html:new a({value:C.Cancel,className:"error",id:"cancelEdit",disabled:!0}),events:{click:function(){!1===i("#cancelEdit").prop("disabled")&&u.mManager.resetCellChanges()}}},{tag:"li",class:"editCommand",html:"&nbsp;&nbsp;"},{tag:"li",class:!0===u.isInstantiatedIn3DD?"hidden-characteristics-menu":"active editCommand",html:new a({value:C.Save,className:"success",id:"saveEdit",disabled:!0}),events:{click:function(){!1===i("#saveEdit").prop("disabled")&&u.mManager.commitCellChanges()}}}]}).inject(this.elements.container)}})});