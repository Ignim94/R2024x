define("DS/ENOCharacteristicsWebApp/models/DimensionSetModel",["UWA/Class/Model","UWA/Class/Collection","DS/ENOCharacteristicsWebApp/utils/RequestUtils","DS/ENOCharacteristicsWebApp/utils/Constants","DS/PlatformAPI/PlatformAPI","DS/UIKIT/Mask","DS/UIKIT/Alert","i18n!DS/ENOCharacteristicsWebApp/assets/nls/ENOCharacteristicsWebAppNLS","DS/ENOCharacteristicsWebApp/utils/AlertManager"],function(e,t,n,i,s,r,o,a,c){"use strict";return e.extend({urlRoot:n.getGLSWebServiceURL()+i.CHARACTERISTICS_ENDPOINT,mDimensionSet:null,mRetryCount:0,mRetryLimit:3,setup:function(e){this.charContainer=e.charContainer,this.fetchDimensionSet()},fetchDimensionSet:function(){var e=this;e.mRetryCount++,r.mask(e.charContainer);var t=n.getGLSWebServiceURL()+i.CHARACTERISTICS_ENDPOINT;n.send3DSpaceRequest(t+i.CHARACTERISTICS_GET_DIMENSIONS+"?isEnoPref=true","GET",{type:"json",headers:{"Content-type":"application/x-www-form-urlencoded"}},function(t){e.mDimensionSet=t,r.unmask(e.charContainer)},function(t,n){e.mRetryCount<e.mRetryLimit&&(console.info("fetchDimensionSet : Retrying..."+e.mRetryCount),e.fetchDimensionSet()),console.log(n),e.mRetryCount===e.mRetryLimit&&(r.unmask(e.charContainer),c.displayErrorResponse(null,n))})},getDisplayUnitForDiemension:function(e){var t=this.mDimensionSet;return null===t&&this.fetchDimensionSet(),t.filter(function(t){return t.id===e})[0].displayUnits}})});