define("DS/ENOCharacteristicsWebApp/models/CharacteristicsModel",["UWA/Class/Model","DS/TreeModel/TreeNodeModel","DS/ENOCharacteristicsWebApp/utils/Constants","DS/ENOCharacteristicsWebApp/utils/RequestUtils","i18n!DS/ENOCharacteristicsWebApp/assets/nls/ENOCharacteristicsWebAppNLS"],function(e,t,s,r,o){"use strict";return t.prototype.setAttributeWithLabel=function(e,t){var s;void 0!==this.options.translatedValues&&"string"!=typeof this.options.translatedValues||(this.options.translatedValues={}),this.setAttribute(e,t);var r=t;"function"==typeof t.replace&&(s=t.replace(/\s/g,""),UWA.is(o[s])&&(r=o[s])),this.options.translatedValues[e]=r},e.extend({mTreeNodeModel:null,mCategory:null,setup:function(e){this.mCategory=e.Category,this.mTreeNodeModel=new t({label:"",grid:{Title:"",current:""},translatedValues:{}}),this.mTreeNodeModel.setAttribute("ownerModel",this),this.mTreeNodeModel.setAttribute("modelType",s.CHARACTERISTICS_MODEL_TYPE)},fromJSON:function(e){for(var t in e)e.hasOwnProperty(t)&&this.mTreeNodeModel.setAttributeWithLabel(t,e[t])},deleteCharacteristic:function(){this.mTreeNodeModel.remove(),this.mCategory.updateCategory()},removeCharacteristic:function(){this.mTreeNodeModel.remove(),this.mCategory=null},copyDataFromNodeModel:function(e){this.fromJSON(e.grid),this.mTreeNodeModel.setAttribute("ownerModel",this),this.mTreeNodeModel.setAttribute("categoryName",this.mCategory.mCharCategory),this.mTreeNodeModel.setLabel(e.label)}})});