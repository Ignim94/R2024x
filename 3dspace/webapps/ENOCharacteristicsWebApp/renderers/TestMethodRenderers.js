define("DS/ENOCharacteristicsWebApp/renderers/TestMethodRenderers",["UWA/Class/View","DS/W3DXComponents/Skeleton","DS/ENOCharacteristicsWebApp/collections/TestMethodCollection","DS/ENOCharacteristicsWebApp/views/TestMethodPropertiesViews","DS/ENOCharacteristicsWebApp/views/TestMethodDocumentsViews","DS/ENOCharacteristicsWebApp/views/TestMethodCollectionView","DS/W3DXComponents/Collections/ActionsCollection","DS/ENOCharacteristicsWebApp/utils/RequestUtils","DS/ENOCharacteristicsWebApp/utils/Constants","DS/ENOCharacteristicsWebApp/controls/SearchConfiguration","i18n!DS/ENOCharacteristicsWebApp/assets/nls/ENOCharacteristicsWebAppNLS"],function(e,t,i,s,c,n,o,a,r,d,l){"use strict";var h,p={detailsRenderer:{testMethodIds:[],collection:i,view:n,autoFetch:!0,swipe:!1,viewOptions:function(e){var t={contents:{}};return t.events=!0===window.contextObjectAccess.Modify?{onActionClick:function(e,t,i){if("undefined"!=typeof widget){this.mTestMethodIds=C(this.collection);this.mTitle="Results - Test Methods in Released state",this.mSearchConfig=new d(this.mTitle),this.mSearchConfig.activate("",a.getTestMethodsTypesActualValue(),"current==Release",f.bind(this),"",this.mTestMethodIds)}else u(this)}}:{},t.actions=!0===window.contextObjectAccess.Modify?{collection:function(){return new o([{id:"add",title:l.AddTestMethod,icon:function(){return"plus"},handler:function(){},overflow:!1,actionBar:!0,storeId:e.id}])}}:{},t},idCardOptions:{facets:function(){return[{text:l.Files,icon:"attach",handler:t.getRendererHandler(c)},{text:l.Properties,icon:"doc-text",handler:t.getRendererHandler(s)}]}}},addTestMethods:function(){void 0!==window.characId?S():require(["DS/ENOCharacteristicsWebApp/controls/CreateCharacteristics"],function(e){e.displaySelectedTestMethods()})}},C=function(e){var t=[];return e.forEach(function(e){t.push(e.id)}),t},u=function(e){var t="/characteristic/CharacteristicMaster3dSearchIntermediate.jsp?field=TYPES="+a.getEnableTestMethodSpecificationFlag()+":POLICY=policy_TechnicalSpecification,policy_IPMSpecification,policy_Document,policy_ServiceDefinitionContent,policy_ServiceImplementationContent:CURRENT=policy_IPMSpecification.state_Release,policy_Document.state_RELEASED,policy_ServiceDefinitionContent.state_Exists,policy_ServiceImplementationContent.state_Exists:LATESTREVISION=true&table=AEFGeneralSearchResults&showInitialResults=true&selection=multiple&submitAction=refreshCaller&excludeOIDprogram=ENOCharacteristicMasterUI:excludeAlreadyConnectedObjects&showRMB=false&submitURL=../characteristic/CharacteristicMasterAddExistingOnPart.jsp&mode=AddTestMethodToChar&objectId="+window.characId;document.getElementById("ENOCharSearchFrame").src="../.."+t,h=e},S=function(){var e=h,t=window.characId,i={objectId:"",testMethodIds:""};if(i.objectId=t,window.app.testMethods){for(var s=window.app.testMethods.details,c=[],n=0;n<s.length;n++)c.push(s[n].id);i.testMethodIds=c;var o=a.getGLSWebServiceURL()+r.CHARACTERISTICS_ENDPOINT;a.send3DSpaceRequest(o+r.CHARACTERISTICS_CONNECT_TM,"POST",{type:"text",headers:{"Content-type":"application/json; charset=UTF-8"},data:JSON.stringify(i)},function(t){var i=JSON.parse(t);e.collection.add(i)},function(e){})}},f=function(e){var t=this,i=window.characId,s={objectId:"",testMethodIds:""};s.objectId=i;for(var c=[],n=0;n<e.length;n++)c.push(e[n].id);s.testMethodIds=c;var o=a.getGLSWebServiceURL()+r.CHARACTERISTICS_ENDPOINT;a.send3DSpaceRequest(o+r.CHARACTERISTICS_CONNECT_TM,"POST",{type:"text",headers:{"Content-type":"application/json; charset=UTF-8"},data:JSON.stringify(s)},function(i){var s=JSON.parse(i);t.collection.add(s),widget&&(widget.testMethods=e)},function(e){console.log("Error: "+e)})};return p});