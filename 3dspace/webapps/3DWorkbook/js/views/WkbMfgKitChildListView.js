define("DS/3DWorkbook/js/views/WkbMfgKitChildListView",["UWA/Core","DS/3DWorkbook/js/views/WkbChildListView","DS/3DWorkbook/js/views/WkbViewsUtils","i18n!DS/3DWorkbook/assets/nls/3DWorkbook"],function(t,e,i,s){"use strict";return e.extend({init:function(t){t.containerClassName="mfgKitChildList",t.parentPID=t.mfgKitPID,this._parent(t)},loadCards:function(t){this._parent(t,this._getChildCard.bind(this))},_getOnCardSelected:function(e){let i=this;return function(s){let a=!e.isSelected(),d=[],l=i.cardList.indexOf(e),n=i.cardList[i.lastSelectedCardIndex];if(t.is(n)&&!n.isSelected()&&(i.lastSelectedCardIndex=null),i.multiSelect||s.shiftKey&&t.is(i.lastSelectedCardIndex)||i.unhighlightAll(),s.shiftKey&&t.is(i.lastSelectedCardIndex)&&a||t.is(e.testShiftSelect)&&t.is(i.lastSelectedCardIndex)&&a){const t=Math.min(l,i.lastSelectedCardIndex),e=Math.max(l,i.lastSelectedCardIndex);(d=i.cardList.slice(t,e+1)).forEach(t=>{t.highlight()})}else d=[e],a?(e.highlight(),i.lastSelectedCardIndex=l):(e.unhighlight(),i.lastSelectedCardIndex=null);!t.is(i.lastSelectedCardIndex)&&a&&(i.lastSelectedCardIndex=l),i.modelEvtManager.publish({event:"wkbMfgKitChildListView-Select",data:{selectedCards:d,isSelectMode:a}}),s.stopPropagation()}},_getChildCard:function(t){var e=i.getPartCard(t,this.attributeConfig.part);return e.dataset.referenceName=t.id,e.setPID(t.physicalId),e.setOnClick(this._getOnCardSelected(e)),e},addHighlightingData:function(e){if(!(this.cardList.length<1)){var s=null,a=0;for(a=0;a<this.cardList.length;a+=1){const d=this.cardList[a];s=t.is(e)?i.getPartHighlightPath(d,e):d.getPID(),i.createHighlightingData(d,s)}}},destroy:function(){this._parent()}})});