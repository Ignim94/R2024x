define("DS/3DWorkbook/js/views/Wkb2DOrientationViewer",["UWA/Core","UWA/Class","DS/WebappsUtils/WebappsUtils","DS/Windows/Panel","DS/3DWorkbook/js/WkbUtils"],function(e,i,t,n,o){"use strict";var s=null,a=null;return i.extend({init:function(e){e.config=this._checkConfig(e.config),this.buildSkeleton(e)},buildSkeleton:function(i){var l=i.config;a=new e.Element("div",{id:"wkbOrientationViewer2D",class:"wkiOrientationViewer",styles:{width:l.width,height:l.height,"pointer-events":"none"}}),e.is(o.isOrientation2DPanelStateOpen)||(o.isOrientation2DPanelStateOpen=!0);(s=new n({title:"Orientation",icon:t.getWebappsAssetUrl("DELMOMWKIExperience","icons/32/")+"camera.png",content:a,closeButtonFlag:!1,position:{at:"top left",offsetX:parseInt(l.positionX2d),offsetY:parseInt(l.positionY2d)},expandedFlag:o.isOrientation2DPanelStateOpen,identifier:"WKBOrientationPanel2D",resizableFlag:!0,movableFlag:!0,collapsibleFlag:!0,verticallyStretchableFlag:!0,minWidth:100,width:l.width2d,height:l.height2d,immersiveFrame:i.immersiveFrame})).addEventListener("resize",this.onResize),s.addEventListener("collapse",this.onCollapse),s.addEventListener("expand",this.onExpand),this.onResize()},onResize:function(){if(e.is(s)){var i=s.width,t=s.height;isNaN(i)||(i=i-10+"px"),isNaN(t)||(t=t-10+"px"),a.setStyle("height",t),a.setStyle("width",i)}},onCollapse:function(){o.isOrientation2DPanelStateOpen=!1},onExpand:function(){o.isOrientation2DPanelStateOpen=!0},loadImage:function(e){o.fadeInOutImage(a,e,"cover")},destroy:function(){s.removeEventListener(this.onResize),s.removeEventListener(this.onCollapse),s.removeEventListener(this.onExpand),s.destroy(),s=null,a.destroy(),a=null},_checkConfig:function(i){var t=i;return e.is(t)?(e.is(t.height2d)||(t.height2d="100px"),e.is(t.width2d)||(t.width2d="100px"),e.is(t.positionX2d)||(t.positionX2d="100px"),e.is(t.height2d)||(t.positionY2d="100px"),t):t={height:"100px",width:"150px",positionX:"300px",positionY:"100px",modelFile:"DELMOMov.cgr",height2d:"100px",width2d:"150px",positionX2d:"300px",positionY2d:"100px"}}})});