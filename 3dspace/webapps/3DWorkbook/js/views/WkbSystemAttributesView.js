define("DS/3DWorkbook/js/views/WkbSystemAttributesView",["UWA/Core","UWA/Class","UWA/Promise","DS/CoreEvents/ModelEvents","DS/3DWorkbook/js/WkbUtils","DS/3DWorkbook/js/views/WkbViewsUtils","DS/3DWorkbook/js/views/WkbCustomAttributesView","DS/3DWorkbook/js/views/WkbStyles","i18n!DS/3DWorkbook/assets/nls/3DWorkbook"],function(t,i,s,e,n,r,a,o,l){"use strict";return i.extend({init:function(t){this.parentElement=t.parentElement,this.modelEvtManager=t.modelEvtManager||new e,this.attributeConfig=t.attributeConfig,this.container=null,this.nameDiv=null,this.sysAttributesDiv=null,this.hasDragElement=!1,this.buildSkeleton()},inject:function(t){this.container.inject(t)},update:function(t,i){this.attributeConfig=i,this.nameDiv.innerHTML=t.displayName;var s=a.getCustomAttributesElement(t,this.attributeConfig.system);this.sysAttributesDiv.innerHTML="",this._addSysAttributeLastPublishDate(s,t),s.inject(this.sysAttributesDiv),this.hasDragElement||r.addDragElement(t,this.container)},_addSysAttributeLastPublishDate:function(i,s){var e=s.lastPublishModified;t.is(e)||(e="");var n=r.getAttributeDiv(l.GraphicsPublished,e);n.style.clear="both",n.inject(i)},buildSkeleton:function(){var i={};this.container=t.createElement("div",{id:"sysDetails",class:"sysDetails",styles:{display:"block",color:o.attributeLabelColor,padding:"5px","font-size":"14px"}}),this.nameDiv=t.createElement("div",{class:"wkbTitle",html:i.displayName,styles:{padding:"5px"}}),this.nameDiv.inject(this.container),this.sysAttributesDiv=t.createElement("div",{class:"sysAttributes"});var s=a.getCustomAttributesElement(i,this.attributeConfig);this._addSysAttributeLastPublishDate(s,i),s.inject(this.sysAttributesDiv),this.sysAttributesDiv.inject(this.container)},destroy:function(){this.attributeConfig=null,this.nameDiv.destroy(),this.nameDiv=null,this.sysAttributesDiv.destroy(),this.sysAttributesDiv=null,this.container.destroy(),this.container=null}})});