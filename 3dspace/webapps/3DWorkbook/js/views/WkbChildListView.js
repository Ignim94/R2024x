define("DS/3DWorkbook/js/views/WkbChildListView",["UWA/Core","UWA/Class","DS/CoreEvents/ModelEvents","DS/UIKIT/Scroller","DS/3DWorkbook/js/views/WkbViewsUtils","i18n!DS/3DWorkbook/assets/nls/3DWorkbook"],function(t,i,e,n,s,r){"use strict";return i.extend({init:function(t){this.modelEvtManager=t.modelEvtManager||new e,this.container=null,this.attributeConfig=t.attributeConfig,this.parentPID=t.parentPID,this.parentInstancePID=t.parentInstancePID,this.cardList=[],this.scroller=null,this.containerClassName=t.containerClassName,this.multiSelect=!1,this.lastSelectedCardIndex=null,this.buildSkeleton()},buildSkeleton:function(){this.container=t.createElement("div",{id:"id_"+this.parentPID,class:this.containerClassName})},hide:function(){this.container.hide()},show:function(){this.container.show()},clearTiles:function(){var t=this;this.cardList.forEach(function(i){i.removeOnClick(t._onItemClick),i.destroy()}),this.cardList=[]},unhighlightCard:function(t){s.setCardStyleNotSelected(t)},highlightCard:function(t){s.setCardStyleSelected(t)},unhighlightAll:function(){var i=this.container.querySelectorAll(".partItem");t.is(i)&&(i.forEach(function(t){s.setCardStyleNotSelected(t)}),this.lastSelectedCardIndex=null)},unHighlightAllCards:function(){t.is(this.container)&&this.cardList.forEach(function(t){t.unhighlight()})},secondaryHighlightLinkedCard:function(t){for(let i=0;i<this.cardList.length;i+=1){const e=this.cardList[i];if(e.getPID()===t)return e.secondaryHighlight(),!0}return!1},highlightLinkedCard:function(t){for(let i=0;i<this.cardList.length;i+=1){const e=this.cardList[i];if(e.getPID()===t)return e.highlight(),!0}return!1},syncHighlightToViewer:function(i,e){var n=this.container.querySelectorAll(".partItem");t.is(n)&&s.doHighlight(n,i,e)},loadCards:function(i,e){this._destroyScroll();const n=i.children;if(!(n.length<1))for(let i=0;i<n.length;i++){const s=e(n[i],i+1);t.is(s)&&s.inject(this.container),this.cardList.push(s)}},_onItemClick:function(t){s.setCardStyleSelected(t.currentTarget)},_getChildCard:function(t,i){},inject:function(t){this.container.inject(t)},getContainer:function(){return this.container},addToolHighlightingData:function(i){if(this.cardList.length<1)return;const e=function(e){let n=null;return n=t.is(i)?s.getToolHighlightPath(e,i):e.getPID()};for(let i=0;i<this.cardList.length;i+=1){const n=this.cardList[i];if("resource"===n.type){const t=e(n);s.createHighlightingData(n,t)}else{if(!t.is(n.toolCards))continue;n.toolCards.forEach(t=>{const i=e(t);s.createHighlightingData(t,i)})}}},_addScroll:function(i,e){t.is(i.style)&&t.is(i.style.height)&&0!==i.style.height.length||(i.style.height=e.style.height),this.scroller=new n({element:i}).inject(e)},_destroyScroll:function(){t.is(this.scroller)&&(this.scroller.destroy(),this.scroller=null)},destroy:function(){this._destroyScroll(),this.container.destroy(),this.container=null,this.attributeConfig=null,this.cardList.length=0}})});