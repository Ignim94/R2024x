define("DS/3DWorkbook/js/models/WkbMRUList",["UWA/Core","UWA/Class"],function(e,t){"use strict";return t.extend({init:function(){var t=widget.getValue("maxMruItems");e.is(t)?this.maxItems=parseInt(t):this.maxItems="12";var i=widget.getValue("mruList");e.is(i)?this.mruList=JSON.parse(i):this.mruList=[]},save:function(){var e=JSON.stringify(this.mruList);widget.setValue("mruList",e)},update:function(e){const t=this.mruList.findIndex(t=>t.id===e.id&&t.title===e.title);if(t>-1){this.mruList[t].modified=Date.now();const e=this.mruList[t];this.mruList.splice(t,1),this.mruList.unshift(e)}else this.mruList.unshift(e);this.refresh()},refresh:function(){this.enforceMaxSize(),this.save()},updateWithSystem:function(t,i){const s=i+"/snresources/images/icons/large/I_PPRGeneralSystem108x144.png",r=i+"/snresources/images/icons/large/I_PPRSeqHeader108x144.png";let n=t.name,a=s,u=t.physicalId;e.is(t.headerOperationName)&&e.is(t.headerOperationPhysicalId)&&(a=r,n=t.headerOperationName,u=`${u},${t.headerOperationPhysicalId}`);const m={id:u,title:n,image:a,modified:Date.now()};this.update(m)},enforceMaxSize:function(){const e=parseInt(widget.getValue("maxMruItems"));this.mruList.length>e&&(this.mruList.length=e)}})});