define("DS/3DWorkbook/js/models/WkbUtilityDS",["UWA/Core","UWA/Class","DS/3DWorkbook/js/WkbUtils","i18n!DS/3DWorkbook/assets/nls/3DWorkbook"],function(e,r,t,s){"use strict";var o=null;return r.extend({init:function(e){e=e||{},this.ematrixURL=e.ematrixURL||t.ematrixURL,o=e.modelEvtManager},getLanguagesListPreferenceOptions:async function(){var r=null;const i=this.ematrixURL+"resources/v1/modeler/dstrs/dstrs:Language";try{r=await t.serverRequestPromise(i,"json","GET")}catch(r){return e.is(o)?this._notifyError(r,s.ErrorTitle,s.ErrLanguageWebService):console.log(r.message),[]}return this._getPreferenceOptions(r)},_getPreferenceOptions:function(e){var r=[];return e.totalItem<1?r:(e.member.forEach(e=>{var t={value:e.ReferencialCode,label:e.Description};r.push(t)}),r.sort((e,r)=>{const t=e.label.toLowerCase(),s=r.label.toLowerCase();return t<s?-1:t>s?1:0}),r)},_notifyError:function(e,r,t){var s="";widget.Debug.debugMode&&(s=e.message),o.publish({event:"wkbNotify",data:{src:"WkbUtilityDS",title:r,subtitle:t,message:s,isVanishes:!1,type:"error"}})}})});