define("DS/3DWorkbook/js/models/WkbOperation",["UWA/Core","UWA/Class","DS/3DWorkbook/js/models/WkbAttributeConfig"],function(s,i,t){"use strict";var e=i.extend({init:function(s){this.attributeConfig=t.attributeConfig.operation,this.description="",this.displayName="",this.id="",this.physicalId="",this.instancePhysicalId="",this.parentType="OPERATION",this.status="",this.version="",this.type="OPERATION",this.message="",this.attributeValues=[],this.attributeMetaList=[]},loadWithDataStore:function(i,r){const a="dsprcs:MfgOperationOcc";var n=i["dsprcs:MfgOperation"],h=i["dsprcs:MfgOperationInstance"];s.is(r)?(this.parentType="OPERATION",this.systemPhysicalId=i.systemPID):(this.parentType="SYSTEM",this.systemPhysicalId=h.parent),this.physicalId=n.id,this.description=n.description,this.displayName=n.title,this.id=n.name,this.version=n.revision,this.status=n.state,this.text=n.text;s.is(n["dsprcs:PrimaryResourceLinkDetail"])?this.primaryResourceLinks=n["dsprcs:PrimaryResourceLinkDetail"].member:this.primaryResourceLinks=[];if(s.is(n["dsprcs:SecondaryResourceLinkDetail"])?this.secondaryResourceLinks=n["dsprcs:SecondaryResourceLinkDetail"].member:this.secondaryResourceLinks=[],this.attributeValues=[],this.attributeMetaList=[],t.loadCustomAttributeArrays(this,n,"operation"),this.instancePhysicalId=h.id,this.dbType=h.type,this.instanceName=h.name,s.is(i["dsprcs:PreAssignedWorkCenterOcc"])){const s=i["dsprcs:PreAssignedWorkCenterOcc"].member;this.workCenterPID=s[0].resource}if("SYSTEM"===this.parentType?this.rirPath=[this.systemPhysicalId,this.instancePhysicalId,this.physicalId]:this.rirPath=[r.systemPhysicalId,r.instancePhysicalId,r.physicalId,this.instancePhysicalId,this.physicalId],s.is(i[a])){var c=this;this.children=[],i[a].member.forEach(function(t,r){if(s.is(t["dsprcs:MfgOperation"])){t.systemPID=i.systemPID;var a=new e({});a.loadWithDataStore(t,c),c.children.push(a)}})}}});return e});