define("DS/3DWorkbook/js/models/WkbMfgItemDS",["UWA/Core","UWA/Class","UWA/Promise","DS/3DWorkbook/js/WkbUtils","i18n!DS/3DWorkbook/assets/nls/3DWorkbook"],function(e,t,r,s,i){"use strict";var o="",a="",n="",d=null;return t.extend({init:function(e){d=e.modelEvtManager,a=e.serverURL,n=e.securityContext,o=a+"cvservlet/navigate?SecurityContext="+encodeURIComponent(n)},_getQuery:function(e){return{label:"Navigate",input_physical_ids:[e],fileAttributes:[],version:3,primitives:[{navigate_to_sr:{id:1,filter:{role:["52"],category:["7"]},mode:"path"},navigate_from_sr:{id:2,mode:"ends",filter:{role:["52"],category:["7"]}}},{navigate_to_sr:{id:3,filter:{role:["51"],category:["5"]},mode:"path"},navigate_from_sr:{id:4,mode:"ends",filter:{role:["51"],category:["5"]}}},{navigate_to_sr:{id:5,filter:{role:["490"]},mode:"path"}}],patterns:{scope_pathSR:[{id:2},{id:3}],resourceArea_pathSR:[{id:5}],scopeInverse_pathSR:[{id:4},{id:1}]},attributes:["ds6w:label","physicalid","ds6w:type","pathsr"]}},getScopedMfgItems:function(t){var r=this;return new e.Promise(function(i,a){var n=r._getQuery(t);s.serverRequestPromise(o,"json","POST",e.Json.encode(n)).then(function(e){var t=[];e.result[0].outputs.scope_pathSR.forEach(function(e){t.push(e.elements[0].physicalid)}),i(t)})})},getIsMfgItemConfigured:async function(t){const r=a+"resources/v1/modeler/dsmfg/dsmfg:MfgItem/"+t+"/dscfg:Configured?$fields=dsmvcfg:attribute.isConfigured";try{var o=await s.serverRequestPromise(r,"application/json","GET");o=JSON.parse(o);var n=!1;if(e.is(o.totalItems)&&o.totalItems>0){var u=o.member[0];e.is(u)&&e.is(u.isConfigured)&&"true"===u.isConfigured&&(n=!0)}return n}catch(e){console.log(e);var l="";widget.Debug.debugMode&&(l=e.message),d.publish({event:"wkbNotify",data:{src:"WkbMfgItemDS",title:i.ErrorTitle,subtitle:i.ErrMfgItemWebService,message:l,isVanishes:!1,type:"error"}})}}})});