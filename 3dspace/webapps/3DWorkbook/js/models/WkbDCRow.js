define("DS/3DWorkbook/js/models/WkbDCRow",["UWA/Core","UWA/Class","DS/3DWorkbook/js/models/WkbAttributeConfig","DS/3DWorkbook/js/models/WkbDCUtils"],function(t,e,i,s){"use strict";return e.extend({init:function(e){e=t.is(e)?e:{},this.label=null,this.text=null,this.typeMagnitudeUnitOrFormat=null,this.treeOrder=0,this.mode=null,this.extensionType="",this.linkedResourceId="",t.is(e)&&t.is(e.map)&&this.loadMapData(e.map),this.attributeValues=[],this.attributeMetaList=[],this.wkiType="DELWkiExecDataCollect"},_setDCTypeNLS:function(){this.dcTypeNLS=s.getDCTypeNLS(this.dcType);var t=this.attributeMetaList.indexOf("dcType");-1!==t&&(this.attributeValues[t]=this.dcTypeNLS)},loadWithDataStore:function(e){var a,l=0;if(this.physicalId=e.id,this.dcType=e.dcType,this.label=e.label,this.linkedPartId=e["bo.dellmilinkonmbom.v_linkonmbom"],a=e["bo.DELLmiLinkOnRsc.V_LinkOnRsc"],t.is(a)&&a.length>0)for(l=0;l<a.length;l++)this.linkedResourceId=this.linkedResourceId+a[l]+",";this.attributeValues=[];var n=s.getConfigName(this.dcType);this.attributeMetaList=i.getAttributes([n]),t.is(e.capableResourceId)&&e.capableResourceId.length>0&&(this.capableResourceLinkPIDs=e.capableResourceId.split(",")),this.capableResourceId=e.capableResourceId,this.capableResource=e.capableResource,this.loadExtensionAttributesDS(e);for(var u=null;l<this.attributeMetaList.length;l+=1)u=this.attributeMetaList[l],t.is(this[u])&&this[u].length>0?this.attributeValues[l]=this[u]:t.is(e[u])?this.attributeValues[l]=e[u]:this.attributeValues[l]="";this._setDCTypeNLS()},setUnitValue:function(e){t.is(e)&&(this.unit=e)},setDisplayUnitValue:function(e){t.is(e)&&(this.displayUnit=e)},loadRealIntegerAttributesDS:function(e){var i=s.getMagnitudeAndUnit(e);this.setUnitValue(i.unit),this.setDisplayUnitValue(i.displayUnit),t.is(e.minValue)&&(this.minValue=s.getConvertedValue(e.minValue.value,i.magnitude,i.displayUnit)),t.is(e.maxValue)&&(this.maxValue=s.getConvertedValue(e.maxValue.value,i.magnitude,i.displayUnit)),t.is(e.nominalValue)&&(this.nominalValue=s.getConvertedValue(e.nominalValue.value,i.magnitude,i.displayUnit)),t.is(e.minControlValue)&&(this.minControlValue=s.getConvertedValue(e.minControlValue.value,i.magnitude,i.displayUnit)),t.is(e.maxControlValue)&&(this.maxControlValue=s.getConvertedValue(e.maxControlValue.value,i.magnitude,i.displayUnit))},loadTextBooleanAttributesDS:function(e){var i=0,s=!1;if(this.possibleValues="",t.is(e.possibleValues))for(;i<e.possibleValues.length;i+=1)s?this.possibleValues=this.possibleValues+", "+e.possibleValues[i]:(this.possibleValues=e.possibleValues[i],s=!0)},loadExtensionAttributesDS:function(t){switch(t.dcType){case 1:case 2:this.loadRealIntegerAttributesDS(t);break;case 3:case 4:this.loadTextBooleanAttributesDS(t);break;default:return[]}}})});