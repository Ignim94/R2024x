define("DS/ENOSpecMultiGridCommon/utils/SpecMultiGridBusinessUtil",["DS/ENOSpecMultiGridCommon/utils/SpecMultiGridUtil","UWA/Class"],function(e,i){"use strict";return i.singleton({downloadCSV:function(i,n){var t="";"en"!=e.getLanguage()&&(t="\ufeff"),t+=i;var o={blob:new Blob([t]),fileName:n,mimeType:"text/csv;charset:utf-8",isCSV:!0};this.downloadFileonBrowser(o)},isDateValue:function(e,i){let n=i.getDynamicColumnValue(e),t=i.getType(),o=i.getDynamicColumnValue("isGMTDate"),r=isNaN(n);return!(!o||"string"!=t&&"timestamp"!=t||!r||isNaN(Date.parse(n)))},downloadFileonBrowser:function(i){if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(i.blob,i.fileName);else{var n=i.mimeType?window.URL.createObjectURL(i.blob,{type:i.mimeType}):window.URL.createObjectURL(i.blob);if(!e.isSafarionIPadorPod()||i.isCSV){var t=new UWA.Element("a",{href:n,download:i.fileName}).inject(document.body);t.hide(),t.click(),setTimeout(function(){t.destroy(),window.URL.revokeObjectURL(n)},100)}else window.open(n,"_blank")}},getModelById:function(e,i){var n=function(e){for(var n=i.getTreeDocument().getOriginalGridRoots(),t=0;t<n.length;t++){var o=n[t];if(o.getID()===e)return o}};if(e){if(!Array.isArray(e))return n(e);for(var t={},o=0;o<e.length;o++){var r=e[o],a=n(r);return t[r]=a,t}}}})});