define("DS/ENOSpecMultiGridCommon/model/SpecMultiGridTreeDocument",["UWA/Core","UWA/Class","DS/ENOSpecMultiGridCommon/model/TreeDocument","DS/TreeModel/DataModelSet","DS/ENOSpecMultiGridCommon/utils/SpecMultiGridUtil","DS/PlatformAPI/PlatformAPI","DS/ENOSpecMultiGridCommon/utils/Constants"],function(e,t,o,i,r,n,s){"use strict";return t.extend({init:function(e){e&&(this.modelEvents=e.modelEvents?e.modelEvents:null,this.enableCrossWidgetFeature=!!e.enableCrossWidgetFeature&&e.enableCrossWidgetFeature,this.currentTabKey=e.currentTabKey?e.currentTabKey:void 0,this.isColorized=!!e.isColorized,this.appCore=e.appCore,this.parentModel=e.parentModel,this.enableRightInteractivity=e.enableRightInteractivity,this.specTagsFilter=e.specTagsFilter?e.specTagsFilter:null)},getTreeDocuments:function(e){var t=this,r=new i;return this.model=new o({dataModelSet:r,currentTabKey:t.currentTabKey}),this.model.setUseChangeTransactionMode(!0),this.model.prepareUpdate(),e&&e.forEach(function(e){t.model.addRoot(e.getTreeModel())}),this.model.pushUpdate(),this.model.expandAll(),this.addEventsOnModel(),this.model.isColorized=this.isColorized,this.model},unGroupRoots:function(){this.model.ungroupRoots()},groupRoots:function(e){var t=Array.isArray(e)?{propertiesToGroup:e}:{propertiesToGroup:[e]};this.model.groupRoots(t),this.model.expandAll()},addEventsOnModel:function(){var e=this,t=function(){var t=e.model.getSelectedNodes(),o=t.length;if(e.modelEvents.publish({event:s.UPDATE_MULIGRID_TOOLBOOR_COUNT,data:o}),e.enableCrossWidgetFeature&&o>0){var i=(new r).getCrossHLData(t);r.publishCrossWidgetHighlightEvent(Utils.uid(),i[0])}};this.model.getXSO().onPostAdd(function(e){for(var o=0;o<e.length;o++){var i=e[o];!i._canBeGrouped()?i.selectAll():t()}}),this.model.getXSO().onPostRemove(function(o){for(var i=0;i<o.length;i++){var r=o[i];!r._canBeGrouped()?r.unselectAll():t()}e.enableRightInteractivity&&(e.manageTriptychRightPanel(),e.publishSelectedNodesInGrid())})},addRoot:function(e,t){var o=function(e){var t=e.getTreeModel();i.model.addRoot(t)};if(e){var i=this,r=!1!==t;Array.isArray(e)?e.forEach(function(e){o(e),r&&e.select()}):e&&(o(e),r&&e.select())}this.model.acceptChanges()},removeRoot:function(e){if(e){var t=this,o=function(e){t.model.removeRoot(e);e.getParent();t.model.acceptChanges()};Array.isArray(e)?e.forEach(function(e){o(e)}):o(e)}},destroy:function(){this.platFormSusbcribtion&&n.unsubscribe(this.platFormSusbcribtion)}})});