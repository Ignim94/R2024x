define("DS/ENOSpecManagementApp/control/ToolBarActions",["UWA/Class","DS/XSRCommonComponents/utils/Constants","DS/XSRCommonComponents/utils/Notification","DS/XSRCommonComponents/utils/TypeUtils","i18n!DS/ENOSpecManagementApp/assets/nls/ENOSpecManagementApp","DS/SpecViewer/commands/DeleteChildFormList","DS/SpecViewer/commands/AdvancedFilter","DS/XSRCommonComponents/utils/InformationPanel","DS/ENOSpecManagementApp/view/TriptychRightSplitView","DS/XSRCommonComponents/utils/RequestUtil","css!DS/ENOSpecManagementApp/TempFonticonFont.css"],function(e,t,n,i,o,a,r,s,c,l){"use strict";return e.extend({init:function(e){this._parent(e),this.appCore=e.appCore,this.treeDocument=e.treeDocument},getSpecListToolBarMenuView:function(e){var n=this,a=function(e){var a=this.treeDocument.getSelectedNodes(),r=function(e){var t={},n=[];if(e.length>0)for(var o=0;o<e.length;o++){var a=e[o].getID(),r=e[o].getTypeActualName(),s=e[o].getTitle(),c=e[o].getRevision();n.push({title:s,type:r,id:a,physicalid:a,name:s,displayName:s,revision:c}),i.isPhysicalProduct(r)&&(t.hasPhysicalProduct=!0)}return t.ids=n,t.nodes=e,t}(a);if(t.INFORMATION_CMD!==e&&t.TOOLBAR_CMD_MULTIGRID!==e)if(a.length>0)t.TOOLBAR_CMD_DELETE===e?n.deleteSpecs(r):t.TOOLBAR_CMD_MATURITY===e?n.maturityMangement(r):t.TOOLBAR_CMD_TRANSFER_OWNERSHIP===e?n.transferOwnership(r):"DefineFilter"===e?n.transferOwnership(r):t.TOOLBAR_CMD_MULTIGRID===e?n.multiGrid(r):t.TOOLBAR_CMD_MULTI_OWNER===e&&n.multiOwnership(r);else{var s="";t.TOOLBAR_CMD_DELETE===e?s=o.actionDeleteErrMsg:t.TOOLBAR_CMD_MATURITY===e?s=o.actionMaturityErrMsg:t.TOOLBAR_CMD_TRANSFER_OWNERSHIP===e?s=o.actionMoveToErrMsg:t.TOOLBAR_CMD_MULTI_OWNER===e&&(s=o.actionShareErrMsg),n.displayMsg("error",o.NoItemSelected+s)}else t.INFORMATION_CMD==e?n.launchInformation(r):t.TOOLBAR_CMD_MULTIGRID==e&&n.multiGrid(r)};return[{id:t.INFORMATION_CMD,text:o.Information,title:t.INFORMATION_CMD,fonticon:"info",disabled:!1,handler:a.bind(e,t.INFORMATION_CMD)},{id:t.TOOLBAR_CMD_MULTIGRID,text:o.Command_MultiEdit,title:t.TOOLBAR_CMD_MULTIGRID,fonticon:"multiedit fonticon-temp",handler:a.bind(e,t.TOOLBAR_CMD_MULTIGRID)},{id:t.TOOLBAR_CMD_MATURITY,text:o.Maturity,title:"Maturity",fonticon:"collaborative-lifecycle-management",handler:a.bind(e,t.TOOLBAR_CMD_MATURITY)},{id:t.TOOLBAR_CMD_DELETE,text:o.Delete,title:"Delete",fonticon:"trash",handler:a.bind(e,t.TOOLBAR_CMD_DELETE)},{id:t.TOOLBAR_CMD_TRANSFER_OWNERSHIP,text:o.MoveTo,title:"TransferOwnership",fonticon:"move-to",handler:a.bind(e,t.TOOLBAR_CMD_TRANSFER_OWNERSHIP)},{id:t.TOOLBAR_CMD_MULTI_OWNER,text:o.MultiOwnership,title:"MultiOwnership",fonticon:"share-alt ",handler:a.bind(e,t.TOOLBAR_CMD_MULTI_OWNER)}]},multiGrid:function(e){let n=void 0;if(e&&e.nodes&&Array.isArray(e.nodes)){let t=!1;if((n=e.nodes).some(function(e){if(!i.isPhysicalProduct(e.getTypeActualName()))return t=!0}),t)return void this.displayMsg("error",o.Error_Message_IncompatibleObjects)}let a={itemNodes:n,instantiateTab:!1,appCore:this.appCore},r=new c(a);r.isInjected=!1;let s={cmdId:t.TOOLBAR_CMD_MULTIGRID};r.showPreview(s)},deleteSpecs:function(e){var t=new a({context:l.getSecurityContext(),ID:"ActionBar_DeleteSpecification"});e.appCore=this.appCore,t.deleteFormToolbar(e)},launchInformation:function(e){let t;e.nodes&&(t=e.nodes);let n={appCore:this.appCore,treeDocument:this.treeDocument},i=new s(n),o=this.appCore.triptychManager;o.setCurrentTabKey(""),o.setLaunchFromIcon(!0),n={nodes:t},i.render(n)},maturityMangement:function(e){var n=e.nodes;this.appCore.basicModelEvents.publish({event:t.EVENT_LAUNCH_COMMAND,data:{commandId:"MaturityGraph",context:{item:{data:n}}}})},transferOwnership:function(e){var n=e.nodes;this.appCore.basicModelEvents.publish({event:t.EVENT_LAUNCH_COMMAND,data:{commandId:"ActionBar_ChangeOwner",context:{item:{data:n}}}})},advanceFilter:function(e){var t=new r({context:l.getSecurityContext(),ID:"DefineFilter"});e.appCore=this.appCore,t.launchFilter(e)},multiOwnership:function(e){var n=e.nodes;this.appCore.basicModelEvents.publish({event:t.EVENT_LAUNCH_COMMAND,data:{commandId:"MultiOwnership",context:{item:{data:n}}}})},displayMsg:function(e,t){n.displayNotification({eventID:e,msg:t})}})});