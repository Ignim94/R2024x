define("DS/ENOSpecManagementApp/view/List",["UWA/Core","UWA/Class/View","DS/Menu/Menu","DS/DataGridView/DataGridView","DS/ENOSpecManagementApp/util/SpecUtil","DS/XSRCommonComponents/utils/Utils","DS/XSRCommonComponents/utils/Constants","text!DS/ENOSpecManagementApp/assets/Columns.json","i18n!DS/ENOSpecManagementApp/assets/nls/ENOSpecManagementApp","css!DS/ENOSpecManagementApp/ENOSpecManagementApp.css"],function(e,t,n,o,a,r,i,s,c){"use strict";return t.extend({setup:function(t){this.treeDocument=t.treeDocument,this.data=t.data,this.elements.container=e.createElement("div",{class:i.CLASS_LIST}),this.columns=JSON.parse(s).columns},render:function(){var e=this,t=this.treeDocument,i=e.options.onContextualEvent.callback,s=function(t){var o=t.context.cellView.elements.container.getBoundingClientRect();e.options.onContextualEvent.callback(t.context).then(function(e){!function(e){if(!o||!Array.isArray(e))throw new Error("unable to build the menu");n.show(e,{position:{x:o.left?o.left:o.x,y:o.bottom?o.bottom:o.y}})}(e)})};e.columns.forEach(function(e){e.text=e.text?c[e.text]:e.text,"contextMenu"===e.dataIndex&&(e.getCellValue=function(e){return s.bind(this)})});var l=new o({columns:e.columns,showModelChangesFlag:!0,showTreeIconsFlag:!0,showRowBorderFlag:!0,treeDocument:t,rowSelection:"multiple",rowDragEnabledFlag:!0,showNodeKPIColorFlag:!0,onContextualEvent:i}).inject(e.elements.container);l.layout.columnHeaderHeight=40,l.onDragStartRowHeaderDefault=function(t,n){e.treeDocument.unselectAll(),n.nodeModel.select();var o=a.prepareDragData(e.treeDocument.getSelectedNodes());t.dataTransfer.effectAllowed="all",t.dataTransfer.setData("text",o)},l.onDragOverRowHeader=function(){},l.onDragOverCell=function(){},l.addEventListener("dragstart",function(e,t){t.nodeModel||(r.dragStartedInXSR=!0)}),l.addEventListener("dragend",function(e,t){t.nodeModel||(r.dragStartedInXSR=!1)}),l.onDropRowHeader=function(e,t){console.log("Drop ignored")};return l.getTypeRepresentationFactory().registerTypeRepresentations(JSON.stringify({contextMenu:{stdTemplate:"functionIcon",semantics:{icon:{iconName:"chevron-down",fontIconFamily:1}}}})),e.collectionView=l,e.treeDocument.setLayoutInstance(l.layout),this},endLoading:function(){this.collectionView.infiniteScrollProcessDone()}})});