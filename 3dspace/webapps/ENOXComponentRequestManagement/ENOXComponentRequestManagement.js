define("DS/ENOXComponentRequestManagement/config/appConfigurator",[],function(){"use strict";return{_modelersRoot:"DS/ENOXSourcingUXInfra/modelers/",_modelersList:["ComponentRequest","ManufacturerEquivalentItem","RequestTemplate"],_controllersRoot:["DS/"],_controllersList:[{name:"ENOXSourcingRequestTemplate/controllers/RequestTemplateController",label:"requestTemplateController"},{name:"ENOXSourcingRequest/controllers/ComponentRequestController",label:"componentRequestController"},{name:"ENOXSourcingRequest/controllers/DashboardController",label:"dashboardController"}],_serviceViewControllersList:[{name:"controllers/ModalWindowController",label:"modalWindowController",initializeController:!1},{name:"SupplyNetworkSearchView/SupplyNetworkSearchController",label:"supplyNetworkSearchController",initializeController:!0}],_viewControllersRoot:[],_viewControllersList:[],routeControllersRoot:["DS/ENOXSourcingUXInfra/controllers/"],routeControllersList:[{name:"ListViewRouteController",label:"listViewRouteController"},{name:"DetailsViewRouteController",label:"detailsViewRouteController"}],_wizardConfigurator:{_wizardStepsList:["type","category","documents","details","summary"],_wizardViews:[{name:"CreateRequestForm",path:"DS/ENOXSourcingUXInfra/components/CreateRequestForm/CreateRequestForm"},{name:"SingleTileSelector",path:"DS/ENOXSourcingUXInfra/components/SingleTileSelector/SingleTileSelector"},{name:"HierarchicalView",path:"DS/ENOXSourcingUXInfra/components/HierarchicalView/HierarchicalView"},{name:"CreateCollectionView",path:"DS/ENOXSourcingUXInfra/components/CreateCollectionView/CreateCollectionView"},{name:"RequestCreationSummary",path:"DS/ENOXSourcingUXInfra/components/SummarizeAndSubmit/SummarizeAndSubmit"}],_wizardDataprovider:"compRequest"},widgetPreferences:[{name:"defaultRoute",type:"hidden",defaultValue:"home.ComponentRequests"},{name:"lastVisitedRouteName",type:"hidden",defaultValue:"xpflLastVisitedRoute"}],enableDashboardView:!0,welcomePanelActivities:[{id:"access_work",actions:[{id:"modal-wizard-type",nlsKey:"new_request",isNotHighlightable:!0,fonticon:"fonticon fonticon-survey-add",className:"action-new"},{id:"ComponentRequests",nlsKey:"my_requests",fonticon:"fonticon fonticon-survey",className:"action-new activity-btn selected"},{id:"RequestTemplates",nlsKey:"request_templates",fonticon:"fonticon fonticon-template",className:"action-new"}]}],nlsSources:[{path:"DS/ENOXComponentRequestManagement/assets/nls/ENOXComponentRequestManagement",appName:"ENOXComponentRequestManagement"},{path:"DS/ENOXSourcingRequest/assets/nls/ENOXSourcingRequest",appName:"ENOXSourcingRequest"},{path:"DS/ENOXSourcingUXInfra/assets/nls/ENOXSourcingUXInfra",appName:"Common"}]}}),define("DS/ENOXComponentRequestManagement/config/typesConfigurator",[],function(){"use strict";return{appName:"ENOXComponentRequestManagement",objectTypes:{template:"SRCComponentRequestTemplate",request:"SRCComponentRequest"},SRCComponentRequestTemplate:{icons:{tile:"ENOXComponentRequestManagement/assets/icons/RequestTemplate-Thumbnail.png",type:"ENOXComponentRequestManagement/assets/icons/16/I_RequestTemplate.png"},excludeProperties:[],includeProperties:[],"request-category-configs":{"SRC Component Introduction Request V1":{workflowPolicy:"policy_SRCNewOrModificationComponentRequest","input-items":{allowedRequestStates:["state_In_Draft","state_Submitted","state_ComponentIdentification","state_ComponentQualification","state_Need_For_Clarification"]},"answer-items":{allowedRequestStates:["state_Submitted","state_ComponentIdentification","state_ComponentQualification","state_Need_For_Clarification"]},"inprocess-items":{allowedRequestStates:["state_ComponentIdentification","state_ComponentConfirmation","state_ComponentQualification"]},workflow:["state_ComponentIdentification","state_ComponentConfirmation","state_ComponentQualification","state_FinalReview"]},"SRC Component Modification Request":{workflowPolicy:"policy_SRCNewOrModificationComponentRequest","input-items":{allowedRequestStates:["state_In_Draft","state_Submitted","state_ComponentIdentification","state_ComponentQualification","state_Need_For_Clarification"]},"answer-items":{allowedRequestStates:["state_Submitted","state_ComponentIdentification","state_ComponentQualification","state_Need_For_Clarification"]},"inprocess-items":{allowedRequestStates:["state_ComponentIdentification","state_ComponentConfirmation","state_ComponentQualification"]},workflow:["state_ComponentIdentification","state_ComponentConfirmation","state_ComponentQualification","state_FinalReview"]},"SRC Source Change Notification V1":{workflowPolicy:"policy_SRCSourceChangeNotificationComponentRequest","input-items":{allowedRequestStates:["state_In_Draft","state_Submitted","state_ImpactIdentification","state_ImpactMitigationProposal","state_Need_For_Clarification"]},"answer-items":{allowedRequestStates:["state_Submitted","state_ImpactIdentification","state_ImpactMitigationProposal","state_Need_For_Clarification"]},"inprocess-items":{allowedRequestStates:["state_ImpactIdentification","state_ImpactReview","state_ImpactMitigationProposal"]},workflow:["state_ImpactIdentification","state_ImpactReview","state_ImpactMitigationProposal","state_FinalReview"]},default:{workflowPolicy:"policy_SRCPartRequest","input-items":{allowedRequestStates:["state_In_Draft","state_Submitted","state_Evaluation","state_Implementation","state_Need_For_Clarification"]},"answer-items":{allowedRequestStates:["state_Submitted","state_Evaluation","state_Implementation","state_Need_For_Clarification"]},"inprocess-items":{allowedRequestStates:["state_Evaluation","state_Evaluation_Review","state_Implementation"]},workflow:["state_Evaluation","state_EvaluationReview","state_Implementation","state_ImplementationReview"]}},"input-items":{actions:["Source","Engineering Item","Manufacturer Equivalent Item","SRCComponentRequest"],types:["VPMReference","SRCComponentRequest"]},"answer-items":{types:["VPMReference","SRCComponentRequest","SRCQUALIFICATION","Document"]},"inprocess-items":{allowedRequestStates:["state_Evaluation","state_Evaluation_Review","state_Implementation"]},requestType:"SRCComponentRequest"},SRCComponentRequest:{icons:{tile:"ENOXComponentRequestManagement/assets/icons/NewComponentRequest-Thumbnail.png",type:"ENOXComponentRequestManagement/assets/icons/16/I_ComponentRequest.png"},excludeProperties:[],includeProperties:[],contexts:[{name:"contextProject",fieldName:"context-project",idKey:"id",titlekey:"name",serviceKey:"Proxy_Service",icon:"project-plans",labelNLSKey:"project",placeholderNLSKey:"contextProject",tooltipNLSKey:"contextProject"},{name:"contextProduct",fieldName:"context-product",idKey:"id",titlekey:"Proxy_Title",serviceKey:"Proxy_Service",icon:"3dproduct",labelNLSKey:"product",placeholderNLSKey:"contextProduct",tooltipNLSKey:"contextProduct"},{name:"contextPlant",fieldName:"context-plant",idKey:"id",titlekey:"name",serviceKey:"Proxy_Service",icon:"factory",labelNLSKey:"plant",placeholderNLSKey:"contextPlant",tooltipNLSKey:"contextPlant"}],templateType:"SRCComponentRequestTemplate"}}}),define("DS/ENOXComponentRequestManagement/config/routerConfig",[],function(){"use strict";return{routes:[{name:"home",path:"/home"},{name:"modal",path:"/modal",children:[{name:"wizard",path:"/wizard",children:[{name:"type",path:"/type"},{name:"category",path:"/category"},{name:"documents",path:"/documents"},{name:"details",path:"/details"},{name:"summary",path:"/summary"}]}]},{name:"home.ComponentRequests",path:"/ComponentRequests",routeController:"listViewRouteController",dataController:"componentRequestController",titleNLS:"my_requests",showTitle:!1},{name:"home.ComponentRequestDetails",path:"/ComponentRequestDetails",routeController:"detailsViewRouteController",dataController:"componentRequestController"},{name:"home.RequestTemplates",path:"/RequestTemplates",routeController:"listViewRouteController",dataController:"requestTemplateController",titleNLS:"request_templates",showTitle:!1},{name:"home.RequestTemplateDetails",path:"/RequestTemplateDetails",routeController:"detailsViewRouteController",dataController:"requestTemplateController"},{name:"home.dummyRoute",path:"/dummyRoute"}],options:{defaultRoute:"home.ComponentRequests",defaultParams:{},trailingSlash:!1,useTrailingSlash:void 0,autoCleanUp:!0,strictQueryParams:!0,allowNotFound:!1}}}),define("DS/ENOXComponentRequestManagement/ENOXComponentRequestManagement",["DS/ENOXSourcingUXInfra/service/ENOXSourcingPlatformServices","DS/ENOXSourcingRequestTemplate/components/Triptych/TriptychWrapper","DS/ENOXSourcingRequestTemplate/components/ApplicationTopBar/ApplicationTopBarWrapper","DS/ENOXSourcingUXInfra/xSourcingRouter/xSourcingRouter","DS/ENOXSourcingUXInfra/components/WelcomePanel/WelcomePanelWrapper","DS/Notifications/NotificationsManagerUXMessages","DS/Notifications/NotificationsManagerViewOnScreen","DS/ENOXSourcingUXInfra/ENOXSourcingExtensionManager","WebappsUtils/WebappsUtils","DS/ENOXSourcingUXInfra/controllers/xSourcingBootstrapController","DS/ENOXSourcingUXInfra/Constants/ENOXSourcingConstants","DS/ENOXSourcingUXInfra/TNProxyImpl/SourcingTNProxy","DS/ENOXSourcingUXInfra/UpdateWidgetTitle/UpdateWidgetTitle","DS/ENOXSourcingUXInfra/DragAndDrop/ENOXSourcingDataDragAndDrop","DS/ENOXSourcingUXInfra/Utilities/Utility","DS/ENOXComponentRequestManagement/config/appConfigurator","DS/ENOXComponentRequestManagement/config/typesConfigurator","DS/ENOXComponentRequestManagement/config/routerConfig","DS/ENOXSourcingUXInfra/ENOXSourcingLogger","DS/Windows/ImmersiveFrame","DS/ENOXSourcingUXInfra/NotificationsUtil/NotificationsUtil","DS/ENOXSourcingUXInfra/Mediator","DS/ENOXSourcingUXInfra/extensions/ENOXSourcingi18nProvider","DS/ENOXSourcingUXInfra/Utilities/Menu","DS/ENOXSourcingUXInfra/JSCacheBust/JSCacheBust","css!DS/ENOXSourcingRequestTemplate/ENOXSourcingRequestTemplate.css"],function(e,t,n,o,i,a,r,s,l,c,p,u,m,d,C,f,S,g,_,R,h,w,N,E,y){"use strict";var q=new m;const v=g;var X={onLoad:function(e){y.onLoad(e,X.loadApp.bind(X))},loadApp:async function(){widget.body.empty(),widget.setIcon(l.getWebappsAssetUrl("ENOXComponentRequestManagement","icons/ENOVIA_WIDGET_Favicon.png"));var e=X;e.widget=widget,widget.app=e,e.configurator=f,e.typesConfigurator=S,e._utility=new C,e._utility.initializeGlobalMethods(),e.i18NProvider=await N.initialize(e),e.logger=new _(e),e.logname="ENOXComponentRequestManagement",e.immersiveFrame=(new R).inject(widget.body),widget.notificationUtil=h,e._mediator=new w,e._applicationChannel=e._mediator.getApplicationBroker(),e.taggerProxy=new u,this.notifs=a,window.notifs=this.notifs,r.setNotificationManager(this.notifs),e.setPreferences(),e._initTriptychAndToolbar(),e.mandatoryStartupPromises=[],e.extManager=new s(e,"DS/ENOXSourcingUXInfra/extensions/"),e.mainController=new c(e),e.use("ENOXSourcingi18nProviderV2"),e.use("ENOXSourcingDataProvider"),e.use("ENOXSourcingControllerProvider"),e.use("ENOXSourcingViewControllerProvider"),e.use("ENOXSourcingRouteControllerProvider"),UWA.Promise.all([e.extManager.init()]).then(function(){UWA.Promise.all(e.mandatoryStartupPromises).then(function(){e._initWelcomePanel(),e._initPlatformServices()})})},onRefresh:function(){if(X.router){var t=X.router._router.getState().name,n=X.router._router.getState().params;n.isRefresh=!0,X.router.navigate(t,n,{reload:!0})}else X._initPlatformServices();E.hide(),e.setCredentialPreference()},endEdit:function(){X.logger.setLevel(widget.getValue("debug")?_.LEVEL.DEBUG:_.LEVEL.ERROR)},onResize:function(){var e=X.router?X.router.getRouter().getState().name:"";let t=X.router._routes.filter(e=>"detailsViewRouteController"===e.routeController).map(e=>e.name);widget.body.offsetWidth>550&&!t.includes(e)?X._applicationChannel.publish({event:"welcome-panel-expand"}):X._applicationChannel.publish({event:"triptych-hide-panel",data:"left"})},_initTriptychAndToolbar:function(){let e=UWA.createElement("div",{class:"xCS-main"}),o=UWA.createElement("div",{class:"xCS-content"});e.appendChild(o),this._applicationContainer=UWA.createElement("div"),this._applicationContainer.classList.add("xCS-application"),widget.body.appendChild(this._applicationContainer),this._triptychWrapper=new t,this._pageToolBarComponent=new n;var i=UWA.createElement("div");e.inject(i),i=i.firstChild,this._applicationContainer.appendChild(i),this._mainPanelApplicationContent=i.querySelector(".xCS-content"),this._triptychWrapper.init(this._applicationChannel,this._mainPanelApplicationContent),this._pageToolBarComponent.init(this._applicationChannel,this._triptychWrapper,this.i18NProvider),this._middleContainer=document.createElement("div"),this._middleContainer.appendChild(this._triptychWrapper.getMainPanelContainer()),this._applicationChannel.publish({event:"triptych-set-content",data:{side:"middle",content:this._middleContainer}})},reactivateWP:function(){widget.setRefreshViewParams("xpflLastVisitedRoute",JSON.stringify({name:"home.ComponentRequests"})),this.router.navigate("home.ComponentRequests"),this._applicationChannel.publish({event:"welcome-panel-expand"})},deactivateWP:function(){},_initRouter:function(){var e=this;o.addRouteMethods("home",{}),o.setDependency("app",this),widget.setRefreshViewParams("xpflLastVisitedRoute",JSON.stringify({route:widget.getValue("defaultRoute")}));var t=JSON.parse(widget.getRefreshViewParams("xpflLastVisitedRoute"));null!=t&&t.name||(t={},widget.setRefreshViewParams("xpflLastVisitedRoute",JSON.stringify({name:widget.getValue("defaultRoute")})),t.route=widget.getValue("defaultRoute")),o.setDependency("app",this),o.start(function(){var n=decodeURIComponent(top.location.href).split("X3DContentId=");if(n&&2===n.length){n[1].includes("/fullscreen")&&(n[1]=n[1].split("/fullscreen")[0]);var i=JSON.parse(n[1]),a=e.decideRouteUsingURL(i);a.route?o.navigate(a.route,a):0===Object.keys(a).length&&widget.notificationUtil.showError(X.i18NProvider.object_unsupported)}else o.navigate(t.route,{id:t.objectId?t.objectId:"",name:t.viewName?t.viewName:""})})},decideRouteUsingURL:function(e){var t={};return e.data.items[0].objectId&&e.data.items[0].objectType===p.TYPE_COMPONENT_REQUEST?(t.route="home.ComponentRequestDetails",t.id=e.data.items[0].objectId):e.data.items[0].objectId&&e.data.items[0].objectType===p.TYPE_COMPONENT_REQUEST_TEMPLATE&&(t.route="home.RequestTemplateDetails",t.id=e.data.items[0].objectId),t},_initWelcomePanel:function(){let t=X.configurator.welcomePanelActivities;this._welcomePanelComponent=new i,X._triptychWrapper.getLeftPanelContainer().innerHTML="";var n="";n="OnPremise"===e.getPlatformId()?"ENXCrmaUserMap/enxcrma-c-ov.htm":"ENXCrmaUserCloudMap/enxcrma-c-ov.htm",t[0].actions.find(e=>"modal-wizard-type"===e.id).callback=function(){X.dataControllers.componentRequestController.showRequestTypeChooser({wizardRoute:"modal.wizard.type"})};var a={title:p.REQUEST_MANAGEMENT_ADMINISTRATION,description:X.i18NProvider.welcome_message,activities:t,eventBroker:X._applicationChannel,container:X._triptychWrapper.getLeftPanelContainer(),router:o,userAssistnceLink:n,trainingLink:"ENXCrmaUserCloudMap/enxcrma-c-ov.htm",app:X};this._welcomePanelComponent.init(a)},onSearch:function(){},use:function(e){return X.extManager.add({ref:e,context:X}),X},_initPlatformServices:function(){e.getPlatformServices(X).then(function(e){X.platformServices=e,q.init(X),X._applicationChannel.publish({event:"platform-service-ready",data:X}),o.initialize(v),X.router=o,X.mainController.initialize(),X._initRouter()},function(){X.logger.warn("Skipping Security Context and CSRF Token retrieval")})},setPreferences:function(){widget.setPreferences(X.configurator.widgetPreferences)},_initDroppable:function(e){X.dropStrategy="OPEN",X.onDropCallback=function(e){if(e){let t={};if(e.objectType===p.TYPE_COMPONENT_REQUEST)t.route=p.COMPONENT_REQUEST_DETAILS_ROUTE;else{if(e.objectType!==p.TYPE_COMPONENT_REQUEST_TEMPLATE)return void widget.notificationUtil.showError(X.i18NProvider.invalid_object_dropped);t.route=p.REQUEST_TEMPLATE_DETAILS_ROUTE}t.id=e.objectId,X.router.navigate(t.route,t,{reload:!0}),X._applicationChannel.publish({event:"xsrc-destroy-drop-token",data:null})}},X.dropArea=e||X._triptychWrapper.getMainPanelContainer(),(new d).makeAreaDroppable(X)}};return X});