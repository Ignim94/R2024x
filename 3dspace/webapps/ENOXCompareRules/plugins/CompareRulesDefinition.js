define("DS/ENOXCompareRules/plugins/CompareRulesDefinition",["DS/CompareWidget2/plugins/plugin","DS/ENOXCompareRules/presenter/CompareRulesView","DS/UIKIT/Mask","DS/xPortfolioQueryServices/js/xPortfolioModel","i18n!DS/ENOXCompareRules/assets/nls/CompareRulesNLS"],function(e,t,n,i,o){"use strict";return e.extend({onLoad:function(){return this._parent()},disconnect:function(){return this._parent()},onDestroy:function(){return this._parent()},enable:function(){return this._parent()},onDisabled:function(){return this._parent()},execute:async function(e,t){let n=this;n._parent(e,t);var r,u,s,a,l=UWA.is(e,"array")&&e[0]?e[0].getPhysID():"",f=UWA.is(e,"array")&&e[1]?e[1].getPhysID():"";""==l||""==f?n.reportKO(o.EMPTY_RULE_IDS):(await i.getAssociatedModelVersion(l).then(function(e){r=e.identifier},function(e){n.reportKO(o.Failed_to_fetch_mv_Id)}),await i.getAssociatedModelVersion(f).then(function(e){u=e.identifier},function(e){n.reportKO(o.Failed_to_fetch_mv_Id)}),r&&u&&(await i.getRuleDefinition({id:l,contextId:r}).then(function(e){s=e},function(e){n.reportKO(o.Failed_to_fetch_Rules_definition)}),await i.getRuleDefinition({id:f,contextId:u}).then(function(e){a=e},function(e){n.reportKO(o.Failed_to_fetch_Rules_definition)}),s&&a?n.reportOK({rules:e,leftRuleId:l,rightRuleId:f,lMvId:r,rMvId:u,lRuleDefinition:s,rRuleDefinition:a}):n.reportKO(o.No_Rules_Definition)))}})});