define("DS/DELMGAApplicationServices/LayoutConfig",[],function(){"use strict";return{MANUFACTURING:{row:0,col:0,command:"ItemsView"},RESOURCE:{row:0,col:1,command:"ResourcesView"},ROUTINGS:{row:1,col:0,command:"ProcessView"}}}),define("DS/DELMGAApplicationServices/Commands/CommandsService",["UWA/Core","DS/CoreEvents/Events","DS/DELPPWModelServices/ModelUtils","DS/DELPPWServices/CommandsService/CommandsService"],function(e,n,t,i){"use strict";return function(t){var s,o=[],a=[],r="CommandsService",c=function(e,n){s.notifyApp(e,n)},u=function(e,n){s.toggleModule(e,n)},d=function(){s.initState()},m=function(){var e,n,i,o,a,c,u=t.getPlugins("SelectionPlugin");u?(n=(e=u.instance.getSelections("CMDS"))[0]||[],i=e[1]||[],a=e[2]||[],c=e[3]||[],o=[],s.manageCommandsAvailability(i,o,a,n,c)):t.getLogger().debug(r,"Selection Plugin is not available.")},l=function(e){s.toggleCmdCheckHeaderState(e)},C=function(){m()},f=function(){s.authoringCmdAvailability()},g=function(){var n=[],i=t.getPlugins("SelectionPlugin");e.is(i)&&i.isStarted&&(n=(n=i.instance.getSelectionsWithPaths("CMDS")).reduce(function(e,n){return e=e.concat(n)},[]),c("LoadRelations",[n]))},E=function(n){var i,o,a,c,u,d=t.getPlugins("InterWidgetComPlugin"),m=t.getPlugins("PlatformPlugin");m?d?(m=m.instance,d=d.instance,i=m.isCloud(),o=d.isOpsViewerWidgetLinked(),i?o&&e.is(n)?(a=!!e.is(n.auxLength,"number")&&n.auxLength>0,c=!!e.is(n.processViewLength,"number")&&n.processViewLength>0,u=!!e.is(n.resourceViewLength,"number")&&n.resourceViewLength>0,n.routingsViewLength<2&&!a&&!c&&!u?s.setCommandState("BuildUpReviewModeCmd",o):s.setCommandState("BuildUpReviewModeCmd",!o)):s.setCommandState("BuildUpReviewModeCmd",o):s.setCommandState("BuildUpReviewModeCmd",i)):t.getLogger().debug(r,"InterWidgetCom Plugin is not available."):t.getLogger().debug(r,"Platform Plugin is not available.")};return s=new i(t),e.extend(s,{manageConfigurationCommands:function(n){var t,i,o,a=n||{},r=!!e.is(a.isLicenseCFGValid,"boolean")&&a.isLicenseCFGValid,c=!!e.is(a.isRoot,"boolean")&&a.isRoot,u=e.is(a.auxLength,"number")?a.auxLength:0,d=e.is(a.processViewLength,"number")?a.processViewLength:0,m=e.is(a.routingsViewLength,"number")?a.routingsViewLength:0,l=e.is(a.resourceViewLength,"number")?a.resourceViewLength:0,C=e.is(a.selectedItemsCount,"number")?a.selectedItemsCount:0,f=!!e.is(a.isAuthoring,"boolean")&&a.isAuthoring,g=!!e.is(a.isCrossLevel,"boolean")&&a.isCrossLevel,E=u>0;t=!E&&!(l>0)&&(m>0||d>0),s.setCommandState("EditConfigurationContext",r&&t),1===C&&(s.setCommandState("DefineFilter",c&&!f&&!E),s.setEffectivityCmdState("DisplayEffectivity",r&&!c&&t)),s.setEffectivityCmdState("EditVariant",r&&!c&&t&&!g),1===C&&s.setEffectivityCmdState("CopyVariantEffectivity",r&&!c&&t&&!g),i=s.getCommand("CopyVariantEffectivity"),e.is(i)&&i.isVariantEffAvailable()&&s.setEffectivityCmdState("PasteVariantEffectivity",r&&!c&&t&&!g),1===C&&(s.setEffectivityCmdState("EditEvolution",r&&!c&&t),s.setEffectivityCmdState("CopyEvolutionEffectivity",r&&!c&&t)),o=s.getCommand("CopyEvolutionEffectivity"),e.is(o)&&o.isEvolutionEffAvailable()&&s.setEffectivityCmdState("PasteEvolutionEffectivity",r&&!c&&t),s.setEffectivityCmdState("ExtendEvolutionEffectivity",r&&!c&&t)},manageReplaceCommandsAvailablity:function(e){var n=e.isRoot,t=e.auxiliaryViewLength,i=e.routingsViewLength,s=e.mfgItemsViewLength,o=e.resourceViewLength;this.setCommandState("ReplaceByLatestRevision",!n&&t<1&&(i>0||s>0||o>0)),this.setCommandState("ReplaceByNewRevision",!n&&t<1&&(i>0||s>0||o>0)),this.setCommandState("ReplaceByExisting",!n&&t<1&&(1===i||1===s||1===o)),this.setCommandState("ReplaceByNewReference",!n&&t<1&&(1===i||1===s||1===o)),this.setCommandState("ReplaceWhereUsed",!n&&t<1&&s>0)},getInsertAsCommands:function(n){var i,s,o,a=[];return o=t.getPlugins("DatabasePlugin"),e.is(n)&&e.is(o)&&o.isStarted&&(i=o.instance.getValidChildTypes(n),e.is(i)&&i.length>0&&(s=n.get("PPRTYPE"),["SYSTEM","OPERATION"].indexOf(s)>-1&&a.push("InsertAsCopy"),["SYSTEM","OPERATION","PROCESS","RESOURCE"].indexOf(s)>-1&&a.push("SearchAndAddInstanceCommand"))),a},manageLifeCycleCmdsOnMixedSel:function(){var e=this;["MaturityHdr","RevisionHdr","NewBranchHdr","ActionBar_ChangeOwner","ActionBar_TransferOwnership","ActionBar_ReserveCmd","ActionBar_UnreserveCmd"].forEach(function(n){e.setCommandState(n,!1)})},manageBuildUpCmdAvailabilty:function(e){E(e)},manageOrderBySequenceCmdAvailabilty:function(n){!function(n){e.is(n.auxLength,"number")&&n.auxLength>0&&s.setCommandState("OrderBySequence",!1)}(n)}}),{onStart:function(e){o.push(t.addExternalListener("select",C)),o.push(t.addExternalListener("toggleCmdCheckHeaderState",l)),o.push(t.addExternalListener("authoringMode",m)),o.push(t.addExternalListener("actionBarReady",d)),o.push(t.addExternalListener("endEdit",f)),o.push(t.addExternalListener("instanceCreated",m)),o.push(t.addExternalListener("editResourceParameterPlan",function(e){u("RPPMOD",e)})),o.push(t.addExternalListener("widgetLinked",E)),o.push(t.addExternalListener("widgetUnlinked",E)),a.push(n.subscribe({event:"DELPPWCommands/LandingPage"},function(e){c("ShowLandingPage",e)})),a.push(n.subscribe({event:"DELPPWCommands/Hide"},function(e){c("Hide",e)})),a.push(n.subscribe({event:"DELPPWCommands/HideAll"},function(e){c("HideAll",e)})),a.push(n.subscribe({event:"DELPPWCommands/Relations"},function(e){u("LINKS",e)})),a.push(n.subscribe({event:"DELPPWCommands/OrderBySequence"},function(e){c("orderBySequence",e)})),a.push(n.subscribe({event:"DELPPWCommands/ShowLogPanel"},function(e){c("ShowLogPanel",e)})),a.push(n.subscribe({event:"DELPPWCommands/DisplayProperties"},function(e){u("PROPERTIES",e)})),a.push(n.subscribe({event:"DELPPWCommands/CreateCapableResourceStructureLink"},function(e){c("CreateCapableResourceStructureLink",e)})),a.push(n.subscribe({event:"DELPPWCommands/CreateLink"},function(e){c("CreateLink",e)})),a.push(n.subscribe({event:"DELPPWCommands/CreateInstance"},function(e){c("CreateInstance",e)})),a.push(n.subscribe({event:"DELPPWCommands/CreateLinkOrInstance"},function(e){c("CreateLinkOrInstance",e)})),a.push(n.subscribe({event:"DELPPWCommands/InsertCmd"},function(e){c("InsertCmd",e)})),a.push(n.subscribe({event:"DELPPWCommands/InsertCmdPLMNew"},function(e){c("InsertCmdPLMNew",e)})),a.push(n.subscribe({event:"DELPPWCommands/DetachInstance"},function(e){c("DetachInstance",e)})),a.push(n.subscribe({event:"DELPPWCommands/SearchAndAddInstanceCommand"},function(e){c("searchAndAddInstance",e)})),a.push(n.subscribe({event:"DELPPWCommands/InsertAsCopy"},function(e){c("InsertAsCopy",e)})),a.push(n.subscribe({event:"DELPPWCommands/ReplaceByLatestRevision"},function(e){c("ReplaceByLatestRevision",e)})),a.push(n.subscribe({event:"DELPPWCommands/ReplaceByExisting"},function(e){c("ReplaceByExisting",e)})),a.push(n.subscribe({event:"DELPPWCommands/ReplaceByNewRevision"},function(e){c("ReplaceByNewRevision",e)})),a.push(n.subscribe({event:"DELPPWCommands/ReplaceByNewReference"},function(e){c("ReplaceByNewReference",e)})),a.push(n.subscribe({event:"DELPPWCommands/ReplaceWhereUsed"},function(e){c("ReplaceWhereUsed",e)})),a.push(n.subscribe({event:"DELPPWCommands/ShowGraphView"},function(e){u("EGRAPHMOD",e)})),a.push(n.subscribe({event:"DELPPWCommands/ProductFlowCmd"},function(e){u("PRODUCTFLOWMOD",e)})),a.push(n.subscribe({event:"DELPPWCommands/ToggleAuxiliaryView"},function(e){c("toggleAuxPanel",e)})),a.push(n.subscribe({event:"DELPPWCommands/ManageCapableResources"},function(e){u("MANAGECAPABLERESOURCESMOD",e)})),a.push(n.subscribe({event:"DELPPWCommands/ItemsView"},function(e){c("ItemsView",e)})),a.push(n.subscribe({event:"DELPPWCommands/ResourcesView"},function(e){c("ResourcesView",e)})),a.push(n.subscribe({event:"DELPPWCommands/ProcessView"},function(e){c("ProcessView",e)})),a.push(n.subscribe({event:"DELPPWCommands/Requirement"},function(e){u("REQUIREMENT_VIEW",e)})),a.push(n.subscribe({event:"DELPPWCommands/EditViewPreferences"},function(e){c("EditViewPreferencesCmd",e)})),a.push(n.subscribe({event:"DELPPWCommands/LayoutPreferences"},function(e){c("LayoutPreferences",e)})),a.push(n.subscribe({event:"DELPPWCommands/ExportCSV"},function(e){c("ExportCSVCmd",e)})),a.push(n.subscribe({event:"DELPPWCommands/LoadRelations"},g)),a.push(n.subscribe({event:"DELPPWCommands/ExpandAll"},function(e){c("expandAll",e)})),a.push(n.subscribe({event:"DELPPWCommands/CollapseAll"},function(e){c("collapseAll",e)})),a.push(n.subscribe({event:"DELPPWCommands/RelationalExplorerCmd"},function(e){c("RelationalExplorerCmd",e)})),a.push(n.subscribe({event:"DELPPWCommands/Refresh"},function(e){c("RefreshCmd",e)})),a.push(n.subscribe({event:"DELPPWCommands/UserDefinedExplore"},function(e){c("UserDefExplore",e)})),a.push(n.subscribe({event:"DELPPWCommands/Show3DViewerCmd"},function(e){c("Show3DViewerCmd",e)})),a.push(n.subscribe({event:"DELPPWCommands/BuildUpReviewModeCmd"},function(e){c("BuildUpReviewModeCmd",e)})),a.push(n.subscribe({event:"DELPPWCommands/BIEssentialsCmd"},function(e){c("BIEssentialsCmd",e)})),a.push(n.subscribe({event:"DELPPWCommands/ManageInconsistentLinks"},function(e){u("MIL",e)})),s.onStart(e)},onStop:function(){var e,i;for(e=0,i=o.length;e<i;e++)t.removeExternalListener(o[e]);for(o=[],e=0,i=a.length;e<i;e++)n.unsubscribe(a[e]);a=[]}}}}),define("DS/DELMGAApplicationServices/Services",["UWA/Class"],function(e){"use strict";var n={CommandsService:"DS/DELMGAApplicationServices/Commands/CommandsService",LayoutService:"DS/DELMGAApplicationServices/LayoutService"};return e.singleton({getMap:function(){return n}})}),define("DS/DELMGAApplicationServices/LayoutService",["UWA/Core","DS/DELPPWServices/LayoutService/LayoutService","DS/DELMGAApplicationServices/LayoutConfig"],function(e,n,t){"use strict";return function(i){var s,o,a,r,c,u,d,m=new n(i),l=[];return u=function(){var n,s;m.isLayoutBuilt()?e.is(m.onActionBarReady,"function")&&m.onActionBarReady():(m.buildView({rows:[{columns:2},{columns:1}],actionBarReady:function(){e.is(s,"array")&&s.forEach(function(e){i.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:e.commandName,cmdState:e.state})}),m.showLayout()}}),m.removeDockingElement(WUXDockAreaEnum.TopDockArea),m.removeDockingElement(WUXDockAreaEnum.BottomDockArea),n=widget.getViewportDimensions(),m.setDockingElement(WUXDockAreaEnum.LeftDockArea,{dockingZoneSize:n.width/4,collapseDockingZoneFlag:!0}),m.setDockingElement(WUXDockAreaEnum.RightDockArea,{dockingZoneSize:n.width/4,collapseDockingZoneFlag:!0,resizableFlag:!0,visibleDockingZoneFlag:!1}),o=m.buildTreeListAuthoringDom(!0),a=m.buildTreeListAuthoringDom(!0),r=m.buildTreeListAuthoringDom(!0),c=m.buildAuxiliaryViewDom(),m.setBlocLayoutContent(t.MANUFACTURING.row,t.MANUFACTURING.col,a),m.setBlocLayoutContent(t.RESOURCE.row,t.RESOURCE.col,r),m.setBlocLayoutContent(t.ROUTINGS.row,t.ROUTINGS.col,o),s=m.setPreferredLayoutOnStartup(t))},d=function(){l.push(i.addExternalListener(t.MANUFACTURING.command,function(e){var n=m.isViewShown(t.MANUFACTURING.row,t.MANUFACTURING.col);n&&!0===e.state||!n&&!1===e.state||m.toggleView(t.MANUFACTURING.row,t.MANUFACTURING.col,e.state)})),l.push(i.addExternalListener(t.RESOURCE.command,function(e){var n=m.isViewShown(t.RESOURCE.row,t.RESOURCE.col);n&&!0===e.state||!n&&!1===e.state||m.toggleView(t.RESOURCE.row,t.RESOURCE.col,e.state)})),l.push(i.addExternalListener(t.ROUTINGS.command,function(e){var n=m.isViewShown(t.ROUTINGS.row,t.ROUTINGS.col);n&&!0===e.state||!n&&!1===e.state||m.toggleView(t.ROUTINGS.row,t.ROUTINGS.col,e.state)})),l.push(i.addExternalListener("widgetLayoutChanged",function(){var n,o,a;o=s.getPreference("widgetLayoutValues"),e.is(o)&&(n=e.Json.decode(o),(a=m.setPreferredLayout(n,t)).deferredPromise.promise.then(function(){a.columns.forEach(function(e){i.getMediator().notify("toggleCmdCheckHeaderState",{cmdName:e.commandName,cmdState:e.state})}),i.getMediator().notify("LayoutCommandsToggled")}))}))},e.extend(m,{getContainer:function(n){switch(n){case"layoutContainer":return m.getUIContainer();case"manufacturing":return a;case"resource":return r;case"routings":return o;case"auxiliary":return c;case"alerts":return m.getAlertContainer();case"progressIndicator":return m.getProgressIndContainer();case"properties":return m.getPropertiesModuleContainer();case"requirement":return m.getRequirementModuleContainer();case"none":return e.createElement("div",{class:"empty-container"});default:i.getLogger().debug("MGA_LayoutService","Invalid side choice: %s",n)}},setProperties:function(e,n){},getLayoutConfig:function(){return e.clone(t)},onStart:function(e){s=i.getService("ConfigService"),u(),d(),e()},onStop:function(){var e,n;for(e=0,n=l.length;e<n;e++)i.removeExternalListener(l[e]);l=[]}})}});