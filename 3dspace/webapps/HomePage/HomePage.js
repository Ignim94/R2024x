/*! -- Copyright 2017 Dassault Systemes. All rights reserved. */
define("DS/HomePage/views/Requirement3Dsearch",["UWA/Core","UWA/Utils/InterCom"],function(e,t){"use strict";var i=function(i){this.socketName="search_socket_"+(new Date).getTime(),this.socket=new t.Socket(this.socketName,{dispatchRetryInterval:5}),this.socket.subscribeServer("SearchComServer"),this.listener=this.objectsSelected.bind(this),this.socket.addListener("Selected_Objects_search",this.listener),this.defaultOptions=i,this.defaultOptions={multiSel:!1,source:["3dspace"]},e.extend(this.defaultOptions,i||{})};return i.prototype.options=function(e,t,i,n,o,s){var a={};a.title=e,a.mode="furtive",a.app_socket_id=this.socketName,a.widget_id=widget.id,a.default_with_precond=!0,a.multiSel=o,a.source=this.defaultOptions.source||[],a.show_precond=!1;var r=widget.getValue("x3dPlatformId"),l=r&&""!==r?r:"OnPremise";return a.tenant=l,a.role=i,Array.isArray(t)&&(a.precond="",t.forEach(function(e,t){a.precond+=0==t?"[ds6w:"+e.tag+"]:"+e.value:" AND [ds6w:"+e.tag+"]:"+e.value})),a.precond&&""!==a.precond&&(a.precond="("+a.precond+")"),s&&(a.precond?a.precond="("+a.precond+" AND "+s+")":a.precond="("+s+")"),n&&""!==n.trim()&&(a.default_search_criteria=n),a},i.prototype.destroy=function(){var e={};e.widget_id=widget.id,this.socket.dispatchEvent("unregisterSearchContext",e),this.socket.unsubscribeServer("SearchComServer"),this.socket.removeListener("Selected_Objects_search",this.listener),this.socket.disconnect(),delete this.socket},i.prototype.activate=function(e,t,i,n,o,s,a){var r=this.options(e,t,i,n,o,s);UWA.is(a,"function")||(r.mode="default"),this.callback=a,this.socket.dispatchEvent("unregisterSearchContext",{widget_id:widget.id}),this.socket.dispatchEvent("RegisterContext",r),this.socket.dispatchEvent("InContextSearch",r)},i.prototype.isAvailable=function(){return UWA.is(this.socket)},i.prototype.launchASearch=function(e){if(this.isAvailable()){void 0!==e.multiSel&&null!==e.multiSel||(e.multiSel=this.defaultOptions.multiSel||!0);var t=e.title?e.title:"";this.activate(t,e.allowedTypes,e.role||"",e.criteria=e.criteria,e.multiSel,e.precondition,function(t){e.in_apps_callback(t)})}},i.prototype.objectsSelected=function(e){this.callback&&this.callback(e)},i}),define("DS/HomePage/views/ListViewController",["DS/Tree/TreeDocument","DS/Core/PointerEvents","DS/DataGridView/DataGridView","text!DS/RequirementStructureBrowser/assets/RequirementAppSetting.json","DS/ENOXCollectionToolBar/js/ENOXCollectionToolBar","DS/WebappsUtils/WebappsUtils","DS/RequirementStructureBrowser/treemodel/RequirementWSAccess","i18n!DS/RequirementStructureBrowser/assets/nls/TreeLst.json","DS/TraceableRequirementsUtils/utils/TRMTypeManagement","DS/TraceableRequirementsUtils/views/DndController","DS/TraceableRequirementsUtils/utils/RequirementNlsMgt","css!DS/HomePage/HomePage.css"],function(e,t,i,n,o,s,a,r,l,c,d){"use strict";var m=JSON.parse(n),u=function(t){this._isDestroyed=!1,this._needRefresh=!0,this._trmModelEvents=t,this.data_to_insert=[],this._model=new e,this._reqSpecListView=null,this._dgvColumn=this.getDatagridViewColumns(),this.listViewOptions={id:"reqlist",modelEvents:this._trmModelEvents,useDragAndDrop:!0,currentView:"DGV",withmultisel:!1,showItemCount:!1,filter:{enableCache:!0},viewOptions:{identifier:"reqlist",views:["DataGridView"],currentView:"DGV",currentSort:void 0,grid:{columns:this._dgvColumn},editable:!0,itemViewMapping:{label:function(e){return e.options.grid.title},subLabel:function(e){return e.options.grid.state+" | "+(e.options.grid.owner?e.options.grid.owner:e.options.grid.responsible)},description:"description",customTooltip:function(e){},icon:function(e){}}},actions:[]},this._initDivs(),this._initToolBar(),this._subscribeEvents()};return u.prototype._initDivs=function(){this._containerReqSpec=UWA.createElement("div"),this._containerReqSpec.classList.add("req-list-view"),this._collectionToolBarContainer=document.createElement("div"),this._collectionToolBarContainer.classList.add("req-collectiontoolbar-container"),this._list_view_Container=document.createElement("div"),this._list_view_Container.classList.add("req-list-container"),this.loadDataGridView(this._list_view_Container),this._containerReqSpec.appendChild(this._collectionToolBarContainer),this._containerReqSpec.appendChild(this._list_view_Container)},u.prototype._initToolBar=function(){this._collectionToolBar=new o(this.listViewOptions),this._collectionToolBar.inject(this._collectionToolBarContainer)},u.prototype.loadDataGridView=function(e){var n=this;(new Date).getTime();n._dataGridView=new i({treeDocument:n._model,columns:n._dgvColumn,onContextualEvent:function(){}}).inject(this._list_view_Container),n._dataGridView.rowSelection="multiple",n._dataGridView.cellSelection="none",n._dataGridView.showSelectionCheckBoxesFlag="OnOver",n._dataGridView.rowDragEnabledFlag=!0,n._dataGridView.cellDragEnabledFlag=!0,n._dataGridView.onDragStartRowHeader=c._onDragStartRowHeader,n._dataGridView.onDragEndRowHeader=c._onDragEndRowHeader,n._dataGridView.onDragStartCell=c._onDragStartRowHeader,n._dataGridView.onDragEndCell=c._onDragEndRowHeader;var o=0;n._dataGridView.addEventListener(t.POINTERHIT,function(e,t){(e.target.hasClassName("wux-tweakers-string-label")||e.target.hasClassName("wux-tweakers-string-icon"))&&(t.nodeModel&&"tree"===e.dsModel.layout.getDataIndexFromColumnIndex(t.columnID)&&(1===e.multipleHitCount?o=setTimeout(function(){if(e.target.hasClassName("wux-tweakers-string-label")){var i={physicalid:t.nodeModel.options.resourceid};n._trmModelEvents.publish({event:"TRMViews-WelcomePanel-OpenStructure",data:i,context:t.nodeModel})}},500):e.multipleHitCount>=2&&clearTimeout(o)))})},u.prototype.fetchData=function(e){var t=this;a._fetchData(e).then(function(e){e.forEach(function(e){var i=l.getTreeNodeModel(e);t._model.addRoot(i),d.updateNLS(i)})}).catch(function(e){console.log(e)})},u.prototype.getDatagridViewColumns=function(){var e=[],t=m.list_column,i={text:"Display Name",dataIndex:"tree",typeRepresentation:"url",width:270,editableFlag:!1,pinned:"left",getCellValue:function(e){return{label:e.nodeModel.options.grid["ds6w:label"]}},setCellValue:function(e,t){t=t.toString(),console.log(t)}};for(var n in e.push(i),t)if(t.hasOwnProperty(n)){var o=r.columns[t[n]],a=t[n];i="type"==n?{text:o,dataIndex:a,typeRepresentation:"string",pinned:"left"}:"revision"==n?{text:o,dataIndex:a,typeRepresentation:"string",pinned:"left",getCellValue:function(e){return e.nodeModel.options.grid["ds6wg:revision"]}}:"current"==n?{text:o,dataIndex:a,typeRepresentation:"string",getCellValue:function(e){return e.nodeModel.options.grid["ds6w:status"]}}:"reserved"==n?{text:o,dataIndex:a,typeRepresentation:"icon",hyperlinkTarget:"_self",alignment:"center",getCellValue:function(e){if(e&&e.nodeModel){var t=e.nodeModel.options.grid["ds6w:reserved"];return"FALSE"===t||"Unlocked"===t?s.getWebappsAssetUrl("RequirementStructureBrowser","icons/32/I_CheckIn.png"):"TRUE"===t||"Locked"===t?s.getWebappsAssetUrl("RequirementStructureBrowser","icons/32/I_lock.png"):"N/A"}}}:"description"==n?{text:o,dataIndex:a,typeRepresentation:"string",visibleFlag:!1}:"owner"==n?{text:o,dataIndex:a,typeRepresentation:"string"}:"project"==n?{text:o,dataIndex:a,typeRepresentation:"string"}:"originated"==n||"modified"==n?{text:o,dataIndex:a,typeRepresentation:"date"}:"organization"==n?{text:o,dataIndex:a,typeRepresentation:"string"}:{text:o,dataIndex:a,typeRepresentation:"string",visibleFlag:!1},e.push(i)}return e},u.prototype._subscribeEvents=function(){var e=this;this._trmModelEvents.subscribe({event:"enox-collection-toolbar-filter-search-value"},function(t){var i=Array.isArray(t.searchValue)?t.searchValue[0]:"";(new Date).getTime();e._model.prepareUpdate(),e._model.getChildren().forEach(function(e){e.unMatch(i)?e.setSearchFilterState(!0):e.setSearchFilterState(!1),e.applyFilters()}),e._model.pushUpdate()})},u}),define("DS/HomePage/views/RequirementTileView",["DS/RequirementFrameUtils/components/emptyContent/TRMEmptyContent","DS/CollectionView/ResponsiveTilesCollectionView","DS/Tree/TreeDocument","DS/TraceableRequirementsUtils/utils/TRMTypeManagement","DS/Core/PointerEvents","DS/RequirementStructureBrowser/utils/TRMMask","DS/RequirementStructureBrowser/treemodel/RequirementWSAccess","DS/TraceableRequirementsUtils/views/DndController","DS/Controls/TooltipModel","DS/TraceableRequirementsUtils/utils/TRMConstant","i18n!DS/HomePage/assets/nls/HomePage","DS/TraceableRequirementsUtils/utils/RequirementNlsMgt"],function(e,t,i,n,o,s,a,r,l,c,d,m){"use strict";var u=function(e){this._model=new i,this._trmModelEvents=e,this.init(),this._initDivs()};return u.prototype.init=function(){var i=this,n={sentences:[{type:"drop",text:d.HomePage_DropContent}],fontSize:"16px",orderedListType:"none",modelEvents:i._trmModelEvents};this._TRMEmptyContent=new e(n),this.responsiveTilesOptions={height:"inherit",displayedOptionalCellProperties:["contextualMenu","activeFlag"],useDragAndDrop:!0,onDragStartCell:r.onDragStartCell,onDragEndCell:r.onDragEndCell,allowUnsafeHTMLContent:!1},i._model.getModelEvents().subscribe({event:"TRMViews-tile-model-update"},function(e){i._model.getRoots().length>0?(i.ResponsiveView=new t(i.responsiveTilesOptions),i.ResponsiveView.loadApplicativeModel(i._model),i.ResponsiveView.inject(i._trmTileContainer),i.ResponsiveView.getCustomTooltip=i.getTooltip,i._rtvEventHandler(i.ResponsiveView)):(0===i._model.getChildren().length&&i._trmTileContainer.classList.remove("displaynone"),i._TRMEmptyContent.inject(i._trmTileContainer)),s.isMasked(i._trmTileContainer.getParent())&&s.unmask(i._trmTileContainer.getParent())})},u.prototype._initDivs=function(){this._trmTileContainer=UWA.createElement("div"),this._trmTileContainer.classList.add("trm-tile-container")},u.prototype._loadData=function(){n.updateRecentItemModel(this._model)},u.prototype._removeSelectedItems=function(e){var t=this,i=[];e.forEach(function(e){t._model.removeRoot(e),i.push(e.getID())}),t._trmModelEvents.publish({event:"TRMViews-WelcomePanel-updateStoredObjects",data:{item2remove:i}})},u.prototype.fetchData=function(e){var t=this;a._fetchData(e).then(function(e){e.forEach(function(e){var i=n.getTreeNodeModel(e);t._model.addRoot(i),m.updateNLS(i)}),t._model.getModelEvents().publish({event:"TRMViews-tile-model-update"})}).catch(function(e){console.log(e)})},u.prototype._rtvEventHandler=function(e){var t=this;e.addEventListener(o.POINTERHIT,function(e,i){if(e.multipleHitCount>=2){var n={physicalid:i.nodeModel.options.resourceid};t._trmModelEvents.publish({event:"TRMViews-WelcomePanel-OpenStructure",data:n,context:i.nodeModel})}})},u.prototype.getTooltip=function(e){var t=[];e.options.grid["ds6w:type"]&&t.push(d["ds6w:type"].concat(" : ",e.options.grid["ds6w:type"])),e.options.grid["ds6wg:revision"]&&t.push(d["ds6wg:revision"].concat(" : ",e.options.grid["ds6wg:revision"])),e.options.grid["ds6w:status"]&&t.push(d["ds6w:status"].concat(" : ",e.options.grid["ds6w:status"])),e.options.grid["ds6w:responsible"]&&t.push(d["ds6w:responsible"].concat(" : ",e.options.grid["ds6w:responsible"])),e.options.grid["ds6w:project"]&&t.push(d["ds6w:project"].concat(" : ",e.options.grid["ds6w:project"])),e.options.grid["ds6w:organizationResponsible"]&&t.push(d["ds6w:organizationResponsible"].concat(" : ",e.options.grid["ds6w:organizationResponsible"])),e.options.grid["ds6w:modified"]&&t.push(d["ds6w:modified"].concat(" : ",e.options.grid["ds6w:modified"]));var i=t.toString().replaceAll(",","\n");return new l({title:e.options.label,shortHelp:i,allowUnsafeHTMLShortHelp:!0,updateModel:!1,wrapThreshold:500})},u}),define("DS/HomePage/HomePage",["UWA/Core","UWA/Controls/Abstract","UWA/Class/Promise","UWA/Class/Options","DS/PADUtils/PADContext","DS/Controls/Button","DS/ApplicationFrame/CommandsManager","DS/TraceableRequirementsUtils/Command/HomePage_InsertRootCmd","DS/WebappsUtils/WebappsUtils","DS/RequirementStructureBrowser/utils/RequirementsConstant","DS/RequirementFrameUtils/utils/RequirementFrameConstant","DS/RequirementFrameUtils/components/emptyContent/TRMEmptyContent","i18n!DS/HomePage/assets/nls/HomePage","DS/HomePage/views/RequirementTileView","DS/HomePage/views/ListViewController","DS/HomePage/views/Requirement3Dsearch","DS/CoreEvents/ModelEvents","DS/TraceableRequirementsUtils/Utils","DS/TraceableRequirementsUtils/utils/TRMConstant","DS/TraceableRequirementsUtils/views/DndController","DS/RequirementStructureBrowser/utils/TRMMask","DS/TraceableRequirementsUtils/utils/TRMTypeManagement","DS/TraceableRequirementsUtils/utils/RequirementAlertManager","DS/RequirementStructureBrowser/utils/TRMPromiseUtils","i18n!DS/TraceableRequirementsUtils/assets/nls/TraceableRequirementsUtils"],function(e,t,i,n,o,s,a,r,l,c,d,m,u,p,_,h,E,v,w,T,g,C,R,S,f){"use strict";var P="TRMViews-WelcomePanel-";return t.extend(n,{name:"welcome_panel",init:function(t){if(this._parent(t),this._localModelEvents=new E,t.isRichView){var i=t.settings,n=i.root_type,a=i.commands;i.Icons;this.context=o.get();var l=this.options.modelEvents;this.elements.container=e.createElement("div",{class:this.getClassNames("_container")}),this.elements.container.commands=e.createElement("div",{class:this.getClassNames("_command_container")}),this.elements.container.insertCommand=e.createElement("div",{class:this.getClassNames("_insert_command_container")}).inject(this.elements.container.commands);for(var d=0;d<n.length;d++){var p=new s({label:u["HomePage_"+a[n[d]]],emphasize:"secondary",value:a[n[d]],icon:{iconName:"requirement-specification-add",fontIconFamily:WUXManagedFontIcons.Font3DS,fontIconSize:"2x"},displayStyle:"icon",touchMode:!0}).inject(this.elements.container.insertCommand);p.id=a[n[d]],p.addEventListener("buttonclick",function(e){var t={type:c.TYPE_REQUIREMENT_SPECIFICATION,commandName:e.dsModel.id,container:e.srcElement};require(["DS/TraceableRequirementsUtils/Command/HomePage_CreateCmd"],function(e){new e(t).execute()})})}this.elements.container.commands.inject(this.elements.container),this.elements.container.searchContainer=e.createElement("div",{class:this.getClassNames("_search_container")}),this.elements.container.searchContainer.inject(this.elements.container.commands);var _=new s({label:u.HomePage_SearchContent,emphasize:"primary"});let E={sentences:[{type:"drop",text:u.HomePage_DropContent},{type:"dom",DOMelement:_.getContent(),events:{onclick:function(e){new r({arguments:[{Type:n}]}).execute()}}}],fontSize:"16px",orderedListType:"none",modelEvents:l};new m(E).inject(this.elements.container.searchContainer);var h={container:this.elements.container,dragContainer:this.elements.container,dropContext:[{id:w.OPEN}],dropInRichView:!0};T.initializeDropArea.call(this,h)}},getDropContext:function(e){let t=[{id:w.OPENWITHCONTEXT,icon:"wux-ui-3ds-drag-drop",title:f.openWithContext},{id:w.OPEN,icon:"wux-ui-3ds-open",title:f.open}];return e&&t.push({id:w.FILTERANDOPEN,icon:"wux-ui-3ds-filter-open",title:f.filterAndOpen}),t},show:function(){this.elements.container.show()},hide:function(){this.elements.container.hide()},initialize:function(){var t=this;return new i(function(i,n){require(["DS/RequirementFrameUtils/RequirementFrameUtils"],function(n){t.elements.container=e.createElement("div",{class:t.getClassNames()});var o=t.frameUtils=new n,s=t.options.modelEvents;t._localModelEvents;o.initTriptych(s,t.elements.container),t.elements.triptych=o._triptychComp._triptych,t.leftSlidein=o._triptychComp.getLeftPanelContainer(),t.mainTriptych=o._triptychComp.getMainPanelContainer(),t._mainPanelContent=e.createElement("div",{class:t.getClassNames("_main")}),o.initIconBar(s),t._iconBar=o._iconBar,t.mainTriptych.appendChild(t._iconBar),t.mainTriptych.appendChild(t._mainPanelContent);var a={collapsed:!1,parentContainer:t.leftSlidein};o.initWelcomePanel(s,a),t.elements.WelcomePanel=o.WelcomePanelWrapper.WelcomePanel;var r={container:t.elements.container,dragContainer:t.elements.container,dropContext:t.getDropContext(!0),events:s};T.initializeDropArea.call(t,r),t._subscribeEvents(),i()})})},render:function(){return this.elements.container},retrieveAuthorizedObjectsPhysicalIds:function(e){var t;return C.retrieveAuthorizedObjects({x3DSearch:e,version:"2.0",callback:function(e){if(e){if(e.authorized_root_objects&&0!=e.authorized_root_objects.length){var i=[];e.authorized_root_objects.forEach(function(e){i.push(e.resourceid)}),t={physicalid:i}}if(e.authorized_filter_objects&&e.authorized_filter_objects.length>0){i=[];e.authorized_filter_objects.forEach(function(e){i.push(e.resourceid)}),t={physicalid:i}}}else e&&e.unauthorized_objects.length>0&&R.warningAlert(f.drop_unauthorizeRootType)}}),t},launchSearch:function(t){var i=this,n=i.options.modelEvents;i._x3DSearch||(i._x3DSearch=new h),i._x3DSearch.launchASearch({title:u.HomePage_SelectToOpen,allowedTypes:[],precondition:t,multiSel:!0,criteria:"",in_apps_callback:function(o){if(e.is(o,"array")&&o.length>0){var s={filteredObject:!1};t.contains(c.TYPE_FILTER)&&(o=function(e){var t=[];if(e.length>0)for(var i=0;i<e.length;i++){var n=e[i]["ds6w:type_value"]?e[i]["ds6w:type_value"]:e[i]["ds6w:type"],o={};o.resourceid=e[i].resourceid,o.objectType=n,o.displayName=e[i]["ds6w:label"],o.displayType=e[i]["ds6w:type"],o.serviceId="3DSpace",t.push(o)}return t}(o),s.filteredObject=!0);var a={x3DSearch:!0,data:{items:o}},r=i.retrieveAuthorizedObjectsPhysicalIds(a);s.physicalid=r.physicalid,n.publish({event:"TRMViews-WelcomePanel-OpenStructure",data:s})}}})},welcomePanelActions:function(e){var t=(i=this).options.modelEvents;switch(e.id){case c.PATH_RECENTS:g.mask(i._mainPanelContent),i.trmTileView=new p(t),i.trmTileView._trmTileContainer.inject(i._mainPanelContent),i.trmTileView._loadData();break;case c.PATH_MY_REQ:case c.PATH_MY_REQSPEC:case c.PATH_MY_SPECFOLDER:g.mask(i._mainPanelContent),t.publish({event:"iconbar-action-iconSelected",data:d.Icon_Name_TileView}),i.frameUtils.trmIconBar_selectAndUpdateIcon(d.Icon_Name_ChangeView,d.Icon_Name_TileView),i.frameUtils.trmIconBar_selectAndUpdateIcon(d.Icon_Name_SelectMenu,d.Icon_Name_SelectAll);break;case c.PATH_CREATE_REQ:t.publish({event:c.CREATE_ROOT_OBJECT,data:{type:c.TYPE_REQUIREMENT,commandName:c.PATH_CREATE_REQ,container:i._mainPanelContent}});break;case c.PATH_CREATE_REQSPEC:t.publish({event:c.CREATE_ROOT_OBJECT,data:{type:c.TYPE_REQUIREMENT_SPECIFICATION,commandName:c.PATH_CREATE_REQSPEC,container:i._mainPanelContent}});break;case c.PATH_CREATE_SPECFOLDER:t.publish({event:c.CREATE_ROOT_OBJECT,data:{type:c.TYPE_REQUIREMENT_GROUP,commandName:c.PATH_CREATE_SPECFOLDER,container:i._mainPanelContent}});break;case c.PATH_OPEN_FILTER:case c.PATH_OPEN_REQ:case c.PATH_OPEN_REQSPEC:case c.PATH_OPEN_SPECFOLDER:var i,n='flattenedtaxonomies:"types/'+c.TYPE_REQUIREMENT+'"';e.id==c.PATH_OPEN_FILTER&&(n='flattenedtaxonomies:"types/'+c.TYPE_FILTER+'"'),e.id==c.PATH_OPEN_REQ&&(n='flattenedtaxonomies:"types/'+c.TYPE_REQUIREMENT+'"'),e.id==c.PATH_OPEN_REQSPEC&&(n='flattenedtaxonomies:"types/'+c.TYPE_REQUIREMENT_SPECIFICATION+'"'),e.id==c.PATH_OPEN_SPECFOLDER&&(n='flattenedtaxonomies:"types/'+c.TYPE_REQUIREMENT_GROUP+'"'),(i=this).launchSearch(n)}},removePreviousView:function(){this.trmTileView&&this._mainPanelContent.getElementsByClassName(this.trmTileView._trmTileContainer.className).length>=1&&this.trmTileView._trmTileContainer.remove(this._mainPanelContent),this.trmListView&&this._mainPanelContent.getElementsByClassName(this.trmListView._containerReqSpec.className).length>=1&&this.trmListView._containerReqSpec.remove(this._mainPanelContent)},executeIconBarActions:function(e){g.mask(this._mainPanelContent);var t="";this.selectedItem==c.PATH_MY_REQ&&(t=c.TYPE_REQUIREMENT),this.selectedItem==c.PATH_MY_REQSPEC&&(t=c.TYPE_REQUIREMENT_SPECIFICATION),this.selectedItem==c.PATH_MY_SPECFOLDER&&(t=c.TYPE_REQUIREMENT_GROUP);var i=this.options.modelEvents;switch(e){case d.Icon_Name_Open:var n=[];this.trmTileView&&this.trmTileView._model.getSelectedNodes().length>0?n=this.trmTileView._model.getSelectedNodes():this.trmListView&&this.trmListView._model.getSelectedNodes().length>0&&(n=this.trmListView._model.getSelectedNodes());var o=[];n.length>0?(n.forEach(function(e){o.push(e.getID())}),i.publish({event:"TRMViews-WelcomePanel-OpenStructure",data:{physicalid:o}})):R.warningAlert(u.HomePage_SelectToOpen);break;case d.Icon_Name_SelectAll:this.trmTileView.ResponsiveView.selectAll(),this.trmListView&&this.trmListView._dataGridView.selectAll();break;case d.Icon_Name_DeselectAll:this.trmTileView.ResponsiveView.unselectAll(),this.trmTileView.ResponsiveView.setActiveCell(),this.trmListView&&this.trmListView._dataGridView.unselectAll();break;case d.Icon_Name_TileView:this.removePreviousView(),this.trmTileView=new p(i),this.trmTileView._trmTileContainer.inject(this._mainPanelContent),this.trmTileView.fetchData(t);break;case d.Icon_Name_DataGridView:this.removePreviousView(),this.trmListView||(this.trmListView=new _(i)),this.trmListView._model.removeRoots(),this.trmListView._containerReqSpec.inject(this._mainPanelContent),this.trmListView.fetchData(t);break;case d.Icon_Name_Remove:(n=this.trmTileView._model.getSelectedNodes()).length>0?this.trmTileView._removeSelectedItems(n):R.warningAlert(u.HomePage_SelectToRemove);break;case d.Icon_Name_Close:i.publish({event:"TRMViews-WelcomePanel-closeLandingPage"})}g.isMasked(this._mainPanelContent)&&g.unmask(this._mainPanelContent)},_openStructureEditor:function(e){this.options.modelEvents.publish({event:"TRMViews-WelcomePanel-OpenStructure"})},selectAction:function(e){var t=this.elements.container.getElement(".activity-btn.selected");null!==t&&t.removeClassName("selected"),null!=e&&(this.elements.container.getElement(".activity-btn#"+e).addClassName("selected"),this.selectedItem=e)},_clearAll:function(e){this.options.modelEvents.publish({event:"TRMViews-WelcomePanel-updateStoredObjects",data:{item2remove:e.item2remove}})},_subscribeEvents:function(){var e=this,t=e.options.modelEvents;e._localModelEvents.subscribe({event:"welcome-panel-remove-contnet"},function(e){var t=e.firstChild;t&&e.removeChild(t)}),e._localModelEvents.subscribe({event:"welcome-panel-select-action"},function(t){e.selectAction(null),e.selectAction(t.id),t&&t.id===c.PATH_RECENTS?e._localModelEvents.publish({event:"update-topbar",data:{id:c.PATH_RECENTS,label:u.HomePage_Recents}}):t&&t.id===c.PATH_MY_REQ?e._localModelEvents.publish({event:"update-topbar",data:{id:c.PATH_MY_REQ,label:u.HomePage_RequirementList}}):t&&t.id===c.PATH_MY_REQSPEC?e._localModelEvents.publish({event:"update-topbar",data:{id:c.PATH_MY_REQSPEC,label:u.HomePage_RequirementSpecificationList}}):t&&t.id===c.PATH_MY_SPECFOLDER&&e._localModelEvents.publish({event:"update-topbar",data:{id:c.PATH_MY_SPECFOLDER,label:u.HomePage_SpecificationFolderList}})}),e._localModelEvents.subscribe({event:"update-topbar"},function(t){t&&(e.frameUtils.trmIconBar_updateTitle(t.label),t.id==c.PATH_RECENTS?(e.frameUtils.trmIconBar_showIcon(d.Icon_Name_Remove),e.frameUtils.trmIconBar_hideIcon(d.Icon_Name_ChangeView)):(e.frameUtils.trmIconBar_hideIcon(d.Icon_Name_Remove),e.frameUtils.trmIconBar_showIcon(d.Icon_Name_ChangeView)))}),t.subscribe({event:c.EVENT_WELCOME_PANEL_COLLAPSE},function(){t.publish({event:"triptych-set-size",data:{size:c.LEFT_PANEL_SIZE_COLLAPSED,side:"left"}}),t.publish({event:"triptych-show-panel",data:"left"})}),t.subscribe({event:c.EVENT_WELCOME_PANEL_EXPAND},function(){t.publish({event:"triptych-set-size",data:{size:c.LEFT_PANEL_SIZE_EXPANDED,side:"left"}}),t.publish({event:"triptych-show-panel",data:"left"})}),t.subscribe({event:"welcome-panel-action-selected"},function(i){i.id!==c.PATH_RECENTS&&i.id!==c.PATH_MY_REQ&&i.id!==c.PATH_MY_REQSPEC&&i.id!==c.PATH_MY_SPECFOLDER||(e._localModelEvents.publish({event:"welcome-panel-remove-contnet",data:e._mainPanelContent}),e._localModelEvents.publish({event:"welcome-panel-select-action",data:i}),t.publish({event:"welcome-panel-active-view",data:i})),e.welcomePanelActions(i)}),t.subscribe({event:"iconbar-action-iconSelected"},function(t){e.executeIconBarActions(t)}),t.subscribe({event:P+"clearAll"},e._clearAll.bind(e)),t.subscribe({event:P+"loadData"},function(){var i=widget.getValue("workingNodeIDs");g.mask(e.elements.container),i&&i.length>0?e._openStructureEditor():(t.publish({event:P+"activate"}),t.publish({event:c.EVENT_WELCOME_PANEL_EXPAND})),g.unmask(e.elements.container)})}})});