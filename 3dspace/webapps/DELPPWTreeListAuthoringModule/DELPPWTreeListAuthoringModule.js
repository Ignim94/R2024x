define("DS/DELPPWTreeListAuthoringModule/TreeListAuthoringBaseModule",["UWA/Core"],function(e){"use strict";return{behaviors:["TreeListViewBehavior","WUXNodeModelBehavior","DropZoneViewBehavior","ModelBehavior","TaggerBehavior","BIBehavior","SearchBehavior","ResourceBehavior","EditAttributeBehavior","DocumentBehavior","ExportToCSVBehaviour","RefreshBehavior","UXFactoryBehavior","ProductImplementBehavior","ProcessImplementBehavior","ViewBehavior","ExpandFilterBehavior"],creator:function(n,t,o,i,r,a,d,c,s,u,h,l,f,g,p,v){var R=function(t){var i,a,d,c,s={forceDBMode:!0,silent:!0,onComplete:function(t){e.is(t)?r.insertInstance({isInstanceOf:t.id,"PLMEntity.V_Name":t.get("PLMEntity.V_Name"),type:t.get("type"),isAggregatedBy:d.get("PID")},c):n.debug("Child reference fetch failed")}};i=o.getSelectedNodesInfo(),e.is(i,"array")&&e.is(t)&&(a=i[0].id,c=i[0].absPath,d=r.getReferenceModel(a),t.forEach(function(e){r.fetchRoot(e.id,s)}))};return{listenTo:function(){return{referenceAdded:this.onAddReference,instanceAdded:this.onAddInstance,connectionAdded:this.onAddConnection,referenceRemoved:this.onRemoveRefOrInst,instanceRemoved:this.onRemoveRefOrInst,connectionRemoved:this.onRemoveConnection,referenceChanged:this.onChangeIRPC,connectionChanged:this.onChangeIRPC,documentAdded:this.addDocumentConnections,EditAttribute:this.onEditAttribute,editRichText:this.onEditRichText,reparentInstances:this.onReparentInstances,reparentBegin:this.onReparentBegin,reparentEnd:this.onReparentEnd,searchAndAddInstance:this.onSearchAndAddInstance,InsertAsCopy:this.onInsertAsCopy,expandAll:this.onExpandAll,collapseAll:this.onCollapseAll}},onStart:function(){var r,a=n.getElement(),d=a.getElementsByClassName("module-toolbar-container")[0],c=a.getElementsByClassName("tree-list-container")[0],s=a.getElementsByClassName("drop-zone-container")[0];s&&i.getContent().inject(s),t.loadDocument(o.getWUXNodeModel()),r=t.getToolBarContent(),e.is(r)&&(r.inject(d),c.addClassName("with-toolbar")),t.getContent().inject(c)},onStop:function(){},onAddReference:function(n,t,i){n=e.is(n,"array")?n:[n],o.withTransactionUpdate(function(){n.forEach(function(n){!function(n){var t={silentMode:!0,withLinksResolved:!1};e.is(i)&&(t=e.merge(i,t)),o.addNode(n,t)}(n)})})},onAddInstance:function(n,t){var i={silentMode:!0,withLinksResolved:!1},r=e.is(t)?e.merge(t,i):i,a=function(e){o.addNode(e,r)};e.is(n,"array")?o.withTransactionUpdate(function(){n.forEach(function(e){a(e)})}):a(n)},onAddOccurrence:function(e){e=Array.isArray(e)?e:[e],o.withTransactionUpdate(function(){o.addOccurences(e)})},addDocumentConnections:function(n){o.withTransactionUpdate(function(){e.is(n,"array")&&n.forEach(function(e){o.updateDocAttributes(e)})})},onChangeIRPC:function(e){e=Array.isArray(e)?e:[e],o.withTransactionUpdate(function(){e.forEach(function(e){o.updateAttributes(e)})})},onRemoveRefOrInst:function(e){var n=[];e=Array.isArray(e)?e:[e],o.withTransactionUpdate(function(){e.forEach(function(e){n.push(e.get("PID"))}),o.removeNodes(n)})},onReparentInstances:function(e){o.reparent(e)},onReparentBegin:function(e){o.isNodeAdded(e)&&(o.showOverlay(),o.unSelectAll())},onReparentEnd:function(e){o.isNodeAdded(e)&&o.removeOverlay()},onExpandAll:function(){var n=o.getSelectedNodes();e.is(n,"array")&&n.length>0&&o.expandAll(n)},onCollapseAll:function(){var n=o.getSelectedNodes();e.is(n,"array")&&n.length>0&&o.collapseAll(n)},onEditAttribute:function(e,n){u.editAttribute(e,n)},onEditRichText:function(e,n){u.editRichTextAttribute(e,n)},onSearchAndAddInstance:function(){var e,n,t=o.getSelectedNodesInfo();1===t.length&&(n="RESOURCE"!==(e=r.getReferenceModel(t[0].id,!0)).get("PPRTYPE")?r.getValidChildTypes(e):["VPMReference","ErgoHuman"],c.showSearchDialoguAndActivate(R,{types:n}))},onInsertAsCopy:function(){var e,n=o.getSelectedNodesInfo();1===n.length&&(e=r.getReferenceModel(n[0].id,!0),c.showSearchDialoguAndActivate(R,{types:r.getValidChildTypes(e),command:"duplicate"}))}}}}}),define("DS/DELPPWTreeListAuthoringModule/TreeListAuthoringModule",["UWA/Core","DS/DELPPWTreeListAuthoringModule/TreeListAuthoringBaseModule"],function(e,n){"use strict";return{behaviors:["TreeListViewBehavior","GraphViewBehavior","WUXNodeModelBehavior","DropZoneViewBehavior","ModelBehavior","SelectionBehavior","TaggerBehavior","BIBehavior","SearchBehavior","ResourceBehavior","EditAttributeBehavior","DocumentBehavior","ExportToCSVBehaviour","RefreshBehavior","CrossHighlightBehavior","UXFactoryBehavior","ProductImplementBehavior","ViewBehavior","ExpandFilterBehavior","LoadObjectBehavior","Viewer3DBehavior","AltSubBIBehavior","LinkBehavior","AltSubReplaceBehavior","RootsBehavior","CfgColumnsBehavior","InterWidgetComBehavior"],creator:function(t,o,i,r,a,d,c,s,u,h,l,f,g,p,v,R,A,y,B,C,m,I,P,T,E,w,S,b){var N,M,O,L,D,V,U,k,x,W,j,F=new(0,n.creator)(t,o,r,a,d,s,u,h,l,f,g,p,v,A,y,B,C),G=[],H=[];return L=function(n){var t,o=function(n){var o=!1;return e.is(n)&&e.is(n.get,"function")&&(n.isConnection()?o=H.indexOf(n.get("type"))>-1:(t=d.getPPRType(n),o=G.indexOf(t)>-1)),o};return Array.isArray(n,"array")?n.every(function(e){return o(e)}):o(n)},D=function(){return G.indexOf("PROCESS")>-1||G.indexOf("SERVICE")>-1||G.indexOf("CONSTRUCTION")>-1},V=function(){return G.indexOf("PART")>-1||G.indexOf("PRODUCT")>-1},W=function(){r.getSelectedNodesInfo().forEach(function(e){R.updateCrossHighlightForSelf(e.absPath.length>0?e.absPath:e.id)})},x=function(n){var a,d,c,s=function(){d=r.getWUXNodeModel(),i.setModel(d),c=i.viewName},u=function(){d=i.getModel(),o.loadDocument(d),c=o.viewName};a=t.getElement(),e.is(n,"boolean")?!0===n?a.hasClassName("showGraphView")||(s(),a.addClassName("showGraphView")):a.hasClassName("showGraphView")&&(u(),a.removeClassName("showGraphView")):(a.hasClassName("showGraphView")?u():s(),a.toggleClassName("showGraphView")),B.setCurrentView({currentView:c}),t.notify("ManageGraphViewCmdAvailablity")},k=function(n){var o=!1;e.is(n.arguments[0])&&e.is(n.arguments[0].sourceModuleId)?n.arguments[0].sourceModuleId!==t.getId()?o=!1:n.arguments[0].sourceModuleId===t.getId()&&(o=!0):o=B.getActiveView()===t.getId(),o&&x()},U=function(){var n,o,r,a=t.getId();o=t.getPreferenceValue("widgetLayoutValues"),e.is(o)&&""!==(n=e.Json.decode(o))[a]&&(r=n[a]===i.viewName,x(r))},j=function(e){var n=[];(e=Array.isArray(e)?e:[e]).forEach(function(e){var t=d.getReferenceModel(e[0]);L(t)&&n.push(e)}),n.length>0&&F.onAddOccurrence(n)},{listenTo:function(){return e.extend(F.listenTo(),{referenceAdded:this.onAddReference,connectionAdded:this.onAddConnection,addOccurrece:j,addProductOrPart:this.onAddProductOrPart,referenceRemoved:this.onRemoveRefOrInst,instanceRemoved:this.onRemoveRefOrInst,connectionRemoved:this.onRemoveConnection,referenceChanged:this.onChangeIRPC,instanceChanged:this.onChangeIRPC,addRootNode:this.onRootNodeAdded,connectionChanged:this.onChangeIRPC,EditAttribute:this.onEditAttribute,Quantity:this.onEditAttribute,reparentInstances:this.onReparentInstances,reparentBegin:this.onReparentBegin,reparentEnd:this.onReparentEnd,searchAndAddInstance:this.onSearchAndAddInstance,InsertAsCopy:this.onInsertAsCopy,ToggleGraphView:k,widgetLayoutChanged:U,select:this.onSelect})},onStart:function(n){if(F.onStart(n),!n.pprTypes||!n.linkTypes)throw new Error(t.getId()+": TreeListAuthoringModule initialization failed");G=n.pprTypes,H=n.linkTypes,N=e.is(n.displayBadgeProductScope)?n.displayBadgeProductScope:null,M=e.is(n.displayBadgePartialProductScope)?n.displayBadgePartialProductScope:null,O=e.is(n.displayBadgeRPL)?n.displayBadgeRPL:null,U(),r.setForceIndexMode(n.forceIndexMode||!1),t.notify("ManageGraphViewCmdAvailablity")},onStop:function(){F.onStop()},onAddReference:function(n,o,i){n=e.is(n,"array")?n:[n],r.withTransactionUpdate(function(){n.forEach(function(n){var r,a;a={silentMode:!0,withLinksResolved:!1},L(r=n)?(e.is(i)&&(a=e.merge(i,{silentMode:!0,withLinksResolved:!1})),F.onAddReference(r,o,a)):D()&&"RESOURCE"===r.get("PPRTYPE")&&t.notify("addToAuxiliaryView",[r])})})},onAddConnection:function(n){var t=function(n){var t,o,i;L(n)&&(t=n.get("from"),o=n.get("type"),i=t,g.isDocConnection(n)?r.updateDocAttributes(t):(D()&&(r.isNodeAdded(t)&&(r.prepareUpdate(),e.is(N)&&N.linkType===o&&r.updateBadge(i,N.badgeIcon),r.updateAttributes(n),r.pushUpdate()),W()),V()&&W()))};e.is(n,"array")?r.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},onChangeIRPC:function(n){var t=function(e){L(e)&&F.onChangeIRPC(e)};e.is(n,"array")?r.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},onRemoveRefOrInst:function(n){var t,o=[];t=function(e){L(e)&&o.push(e)},e.is(n,"array")?n.forEach(function(e){t(e)}):t(n),o.length>0&&F.onRemoveRefOrInst(o)},onRemoveConnection:function(n){var o=!1,i=function(n){var i,a;if(e.is(n)){if(L(n))if(a=n.get("from"),g.isDocConnection(n))r.updateDocAttributes(a);else{if(D()){if(i=n.get("type"),!e.is(i,"string"))return void t.debug("Could not get connection type");r.isNodeAdded(a)&&((e.is(N)&&N.linkType===i||e.is(O)&&O.linkType===i||e.is(M)&&M.linkType===i)&&r.updateBadge(a,null),r.updateAttributes(n)),o=!0}V()&&(o=!0)}}else t.debug("ERROR: No model defined")};r.withTransactionUpdate(function(){e.is(n,"array")?n.forEach(function(e){i(e)}):i(n),o&&W()})},onReparentInstances:function(e){D()&&F.onReparentInstances(e)},onReparentBegin:function(e){D()&&F.onReparentBegin(e)},onReparentEnd:function(e){D()&&F.onReparentEnd(e)},onEditAttribute:function(e,n){D()&&F.onEditAttribute(e,n)},onSearchAndAddInstance:function(){D()&&F.onSearchAndAddInstance()},onInsertAsCopy:function(){D()&&F.onInsertAsCopy()},onRootNodeAdded:function(n,o){var i;const a=o||{},d=!e.is(a.loadRelatedobjectsToView)||a.loadRelatedobjectsToView;if(D()&&e.is(n)&&r.isNodeAdded(n)&&d){const o=y.getScopeLinksOfImplementing(n);if(o.length>0)i=o[0].get("to");else{const e=y.getPartialScopeLinksOfImplementing(n);e.length>0&&(i=e[0].get("to"))}e.is(i)&&t.notify("addProductOrPart",{pid:i})}},onAddProductOrPart:function(n){var o,i;e.is(n)&&e.is(n.pid)?V()&&(r.isNodeAdded(n.pid)||(o=d.getReference(n.pid),e.is(o)?r.addNode(o,{silentMode:!0,withLinksResolved:!1}):(i={forceDBMode:!0,silent:!0,onComplete:function(n){e.is(n)&&r.addNode(n,{silentMode:!0,withLinksResolved:!1})}},d.fetchRoot(n.pid,i)))):t.debug(this.name,"Required input parameters are missing.")},onSelect:function(n){var o;e.is(R)&&e.is(n)&&e.is(n.changed)&&(o=n.changed,R.crossHighlightUnselectAndUnhighlightNodes(o.nodeId,o.absPath,o.isSelected),setTimeout(function(){R.crossHighlightImpacted(o.nodeId,o.absPath,o.isSelected),t.notify("nodesHighlighted",{moduleId:t.getId()})},0))}}}}}),define("DS/DELPPWTreeListAuthoringModule/UpperViewsModule",["UWA/Core","DS/DELPPWTreeListAuthoringModule/TreeListAuthoringBaseModule"],function(e,n){"use strict";return{behaviors:["TreeListViewBehavior","WUXNodeModelBehavior","DropZoneViewBehavior","ModelBehavior","SelectionBehavior","TaggerBehavior","BIBehavior","SearchBehavior","ResourceBehavior","EditAttributeBehavior","DocumentBehavior","ExportToCSVBehaviour","RefreshBehavior","UXFactoryBehavior","ProcessImplementBehavior","CapableResourceLinkBehaviour","ViewBehavior","ExpandFilterBehavior","LoadObjectBehavior","LinkBehavior","TLV3DViewerBehavior","RootsBehavior","MfgProcessBehavior","MfgProcessCrossHighlightBehavior"],creator:function(t,o,i,r,a,d,c,s,u,h,l,f,g,p,v,R,A,y,B,C,m,I,P,T,E){var w,S,b,N,M,O,L,D,V,U,k,x,W,j,F,G=new(0,n.creator)(t,o,i,r,a,c,s,u,h,l,f,g,p,v,R,B),H=[],X=[];return w=function(n){var t,o=!1;return e.is(n)&&(t=a.getPPRType(n),o=H.indexOf(t)>-1),o},S=function(n){var t=!1;return e.is(n)&&e.is(n.get)&&(t=X.indexOf(n.get("type"))>-1),t},b=function(){var e=[];i.getSelectedNodes().forEach(function(n){e.push({nodeId:n.getInstancePID()||n.getReferencePID(),isSelected:n.isSelected(),absPath:n.getAbsolutePath()})}),e.length>0&&t.notify("reComputeCrossHighlight",[e])},N=function(n,t,o){n=e.is(n,"array")?n:[n],i.withTransactionUpdate(function(){n.forEach(function(e){var n;w(n=e)&&G.onAddReference(n,t,o)})})},M=function(n){var t=!1,o=[];n=e.is(n,"array")?n:[n],i.withTransactionUpdate(function(){n.forEach(function(n){!function(n,o){var r,a;S(n)&&(r=n.get("from"),a=n.get("to"),e.is(o,"array")&&o.length>0&&o.indexOf(a)>-1||(o.push(a),f.isDocConnection(n)?i.updateDocAttributes(r):i.isNodeAdded(a)&&(i.updateAttributes(n),t=!0)))}(n,o)}),t&&b()})},O=function(n){var t=[],o=function(n,t){var o,r;S(n)&&(o=n.get("to"),e.is(t,"array")&&t.length>0&&t.indexOf(o)>-1||(t.push(o),i.isNodeAdded(o)||(r=a.getReference(o),e.is(r)&&i.addNode(r,{loadChildren:!0}),b())))};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){o(e,t)})}):o(n,t)},V=function(n){var t=function(e){(w(e)||S(e))&&G.onChangeIRPC(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},L=function(n){var t=function(e){w(e)&&G.onRemoveRefOrInst(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},D=function(n){var o,r=!1;n=e.is(n,"array")?n:[n],o=function(n){var o,d;e.is(n)?S(n)&&(o=n.get("from"),d=n.get("to"),f.isDocConnection(n)?i.updateDocAttributes(o):("ProcessImplementLink"!==n.get("type")&&"PartialProcessImplementLink"!==n.get("type")||!Array.isArray(n.get("to"))||2===n.get("to").length&&a.isInstance(n.get("to")[0])&&a.isReference(n.get("to")[n.get("to").length-1])&&(d=n.get("to")[0]),i.isNodeAdded(d)&&(i.updateAttributes(n),r=!0))):t.debug("ERROR: No model defined")},i.withTransactionUpdate(function(){n.forEach(function(e){o(e)}),r&&b()})},U=function(e){var n=a.getReferenceModel(e.newInstPIDArray[0]);w(n)&&G.onReparentInstances(e)},k=function(e){var n=a.getReferenceModel(e);w(n)&&G.onReparentBegin(e)},x=function(e){var n=a.getReferenceModel(e);w(n)&&G.onReparentEnd(e)},W=function(n){var t,o;if(e.is(n)&&(e.is(n.selectedNodeIds)&&e.is(n.selectedNodeIds.length>0)&&n.selectedNodeIds.forEach(function(e){i.unSelectNode(e)}),e.is(n.changed)))if(e.is(n.changed.childOccurencePath)){if(t=i.getNodeModel(n.changed.childOccurencePath),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)if(t[o].getAbsolutePath().join()===n.changed.childOccurencePath.join()){t[o].select();break}}else if(t=i.getNodeModel(n.changed.nodeId),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)t[o].isRoot(!0)&&t[o].select()},j=function(e){var n=[];(e=Array.isArray(e)?e:[e]).forEach(function(e){var t=a.getReferenceModel(e[0]);w(t)&&n.push(e)}),n.length>0&&G.onAddOccurrence(n)},F=function(){o.manageToolBarItemsAvailability()},{listenTo:function(){return e.extend(G.listenTo(),{referenceAdded:N,connectionAdded:M,addLinkedObject:O,referenceRemoved:L,instanceRemoved:L,connectionRemoved:D,referenceChanged:V,instanceChanged:V,connectionChanged:V,reparentInstances:U,reparentBegin:k,reparentEnd:x,EGraphNodeSelect:W,updateCrossHighlight:b,addOccurrece:j,select:F})},onStart:function(e){if(G.onStart(e),!e.pprTypes||!e.linkTypes)throw new Error(t.getId()+": UpperViewsModule initialization failed");H=e.pprTypes,X=e.linkTypes},onStop:function(){G.onStop()}}}}}),define("DS/DELPPWTreeListAuthoringModule/RoutingsModule",["UWA/Core","DS/DELPPWTreeListAuthoringModule/TreeListAuthoringBaseModule"],function(e,n){"use strict";return{behaviors:["TreeListViewBehavior","WUXNodeModelBehavior","DropZoneViewBehavior","ModelBehavior","SelectionBehavior","TaggerBehavior","BIBehavior","SearchBehavior","ResourceBehavior","EditAttributeBehavior","DocumentBehavior","ExportToCSVBehaviour","RefreshBehavior","UXFactoryBehavior","ProcessImplementBehavior","CapableResourceLinkBehaviour","ViewBehavior","ExpandFilterBehavior","LoadObjectBehavior","TLV3DViewerBehavior","RootsBehavior","LinkBehavior","ProductFlowLinkBehavior","CfgColumnsBehavior","MfgProcessBehavior","MfgProcessCrossHighlightBehavior","OperationTimeBehavior","OrderbySequenceBehavior"],creator:function(t,o,i,r,a,d,c,s,u,h,l,f,g,p,v,R,A,y,B,C,m,I,P,T,E,w,S,b,N){var M,O,L,D,V,U,k,x,W,j,F,G,H,X,z,Z,q,Y,_=new(0,n.creator)(t,o,i,r,a,c,s,u,h,l,f,g,p,v,R,B),J=[],Q=[],K=[];return L=function(n){var t,o=!1;return e.is(n)&&(t=a.getPPRType(n),o=J.indexOf(t)>-1),o},D=function(n){var t=!1;return e.is(n)&&e.is(n.get)&&(t=Q.indexOf(n.get("type"))>-1),t},V=function(e){return K.indexOf(e)>-1},U=function(){var e=[];i.getSelectedNodes().forEach(function(n){e.push({nodeId:n.getInstancePID()||n.getReferencePID(),isSelected:n.isSelected(),absPath:n.getAbsolutePath()})}),e.length>0&&t.notify("reComputeCrossHighlight",[e])},k=function(n,t,o){n=e.is(n,"array")?n:[n],i.withTransactionUpdate(function(){n.forEach(function(e){var n;L(n=e)&&_.onAddReference(n,t,o)})})},G=function(n,o){var r;e.is(n)&&i.isNodeAdded(n)&&(r=a.getImpactedConnections([n]),t.notify("connectionAdded",[r,o]))},x=function(n,o){var r=!1,a=[];o=o||{},n=e.is(n,"array")?n:[n],i.withTransactionUpdate(function(){n.forEach(function(n){!function(n,a){var d,c,s,u,h=!e.is(o.loadRelatedobjectsToView)||o.loadRelatedobjectsToView;D(n)&&("SecondaryCandidateResourceLink"===n.get("type")&&(n=P.cloneSecondaryCapableRscLinkWithFromAttr(n)),d=n.get("from"),c=n.get("to"),s=n.get("type"),u=d,e.is(a,"array")&&a.length>0&&a.indexOf(c)>-1||(a.push(c),f.isDocConnection(n)?i.updateDocAttributes(d):i.isNodeAdded(d)&&(e.is(M)&&M.linkType===s?i.updateBadge(u,M.badgeIcon):e.is(O)&&O.linkType===s&&i.updateBadge(u,O.badgeIcon),i.updateAttributes(n),r=!0,V(s)&&h&&t.notify("addLinkedObject",[n]))))}(n,a)}),r&&U()})},j=function(n){var o,r=!1,a=[];n=e.is(n,"array")?n:[n],o=function(n){var o,d;e.is(n)?D(n)&&("SecondaryCandidateResourceLink"===n.get("type")&&(n=P.cloneSecondaryCapableRscLinkWithFromAttr(n)),d=n.get("from"),f.isDocConnection(n)?i.updateDocAttributes(d):(o=n.get("type"),e.is(o,"string")?i.isNodeAdded(d)&&((e.is(M)&&M.linkType===o||e.is(O)&&O.linkType===o)&&a.push(d),i.updateAttributes(n),r=!0):t.debug("Could not get connection type"))):t.debug("ERROR: No model defined")},i.withTransactionUpdate(function(){n.forEach(function(e){o(e)}),r&&U(),a.length>0&&i.updateBadge(a,null)})},F=function(n){var t=function(e){(L(e)||D(e))&&_.onChangeIRPC(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},W=function(n){var t=function(e){L(e)&&_.onRemoveRefOrInst(e)};e.is(n,"array")?i.withTransactionUpdate(function(){n.forEach(function(e){t(e)})}):t(n)},H=function(e){var n=a.getReferenceModel(e.newInstPIDArray[0]);L(n)&&_.onReparentInstances(e)},X=function(e){var n=a.getReferenceModel(e);L(n)&&_.onReparentBegin(e)},z=function(e){var n=a.getReferenceModel(e);L(n)&&_.onReparentEnd(e)},Z=function(n){var t,o;if(e.is(n)&&(e.is(n.selectedNodeIds)&&e.is(n.selectedNodeIds.length>0)&&n.selectedNodeIds.forEach(function(e){i.unSelectNode(e)}),e.is(n.changed)))if(e.is(n.changed.childOccurencePath)){if(t=i.getNodeModel(n.changed.childOccurencePath),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)if(t[o].getAbsolutePath().join()===n.changed.childOccurencePath.join()){t[o].select();break}}else if(t=i.getNodeModel(n.changed.nodeId),e.is(t)&&t.length>0)for(o=0;o<t.length;o++)t[o].isRoot(!0)&&t[o].select()},q=function(e){var n=[];(e=Array.isArray(e)?e:[e]).forEach(function(e){var t=a.getReferenceModel(e[0]);L(t)&&n.push(e)}),n.length>0&&_.onAddOccurrence(n)},Y=function(){o.manageToolBarItemsAvailability()},{name:"RoutingsModule",listenTo:function(){return e.extend(_.listenTo(),{referenceAdded:k,connectionAdded:x,addOccurrece:q,referenceRemoved:W,instanceRemoved:W,connectionRemoved:j,referenceChanged:F,instanceChanged:F,connectionChanged:F,addRootNode:G,reparentInstances:H,reparentBegin:X,reparentEnd:z,EGraphNodeSelect:Z,updateCrossHighlight:U,select:Y})},onStart:function(n){if(_.onStart(n),!n.pprTypes||!n.linkTypes)throw new Error(t.getId()+": RoutingsModule initialization failed");J=n.pprTypes,Q=n.linkTypes,K=e.is(n.loadConectedObjLinkTypes)?n.loadConectedObjLinkTypes:[],M=e.is(n.displayBadgeProcessScope)?n.displayBadgeProcessScope:null,O=e.is(n.displayBadgePartialProcessScope)?n.displayBadgePartialProcessScope:null},onStop:function(){_.onStop()}}}}});