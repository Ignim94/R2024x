define("DS/VCXScenePanelView/VCXImmersiveNavView",["UWA/Class","DS/Core/PointerEvents"],function(e,t){"use strict";return e.extend({init:function(e){e?(this._state=!1,this._UIprevious=this.createUIArrow("Left").inject(e),this._UInext=this.createUIArrow("Right").inject(e),this.createUIDots(e)):console.error("immersiveNav init failed")},unInitialize:function(){this.unregisterLeftArrowCB(),this.unregisterRightArrowCB(),this._UI_dot_Container.removeEventListener(t.POINTERUP,this.onPointerDownCB),this._UI_dot_Container.removeEventListener("mouseover",this.onMouseOverDotCB),this._UI_dot_Container.removeEventListener("mouseout",this.onMouseOverDotCB),this._UInext.remove(),this._UIprevious.remove(),this._UI_dot_Container.remove()},setImmersiveUIState:function(e){this._state=e,e?this._UInext.removeClassName("hide"):this._UInext.addClassName("hide"),e?this._UIprevious.removeClassName("hide"):this._UIprevious.addClassName("hide"),e?this._UI_dot_Container.removeClassName("hide"):this._UI_dot_Container.addClassName("hide")},createUIArrow:function(e){if("Left"===e||"Right"===e){var t=new UWA.Element("div",{class:"VCXScenariosUIArrow VCX"+e+"Arrow hide","data-rec-id":"immersiveNav"+e+"Arrow",html:[]}),i=new UWA.Element("div",{class:"VCXScenarioUI_loading hide",html:[]}).inject(t);return new UWA.Element("div",{class:"VCXpie VCXspinner",html:[]}).inject(i),new UWA.Element("div",{class:"VCXpie VCXfiller",html:[]}).inject(i),t}},createUIDots:function(e){this._UI_dot_Container=new UWA.Element("div",{class:"VCXScenariosUIDots_container hide",html:[]}).inject(e),this._UI_dot_Container_clone=new UWA.Element("div",{class:"VCXScenariosUIDots_clone",html:[]}).inject(this._UI_dot_Container),this._UI_dot_Container_child=new UWA.Element("div",{html:[]}).inject(this._UI_dot_Container)},updateUIDots:function(e,t){var i=t.map(e=>e._ID);if(this.removeArrowFirstOrLastScene(e,i),this._UI_dot_Container_child.innerHTML&&(this._UI_dot_Container_child.innerHTML=""),void 0!==this._UI_dot_Container&&e&&""!==e&&t&&t.length&&!(t.length<=1))for(var n=0;n<t.length;n++){var s=t[n],o=new UWA.Element("span",{class:"VCXScenariosUIDots_dot","data-rec-id":"immersiveNavDot"+n,html:[]}).inject(this._UI_dot_Container_child);o.dataset.scenarioid=s.GetID(),e===o.dataset.scenarioid&&o.addClassName("active")}},startLoadingUI:function(e){e?this._UInext.getChildren()[0].removeClassName("hide"):this._UIprevious.getChildren()[0].removeClassName("hide")},updateAnimationStatus:function(e){var t="mask "+(e+.25)+"s steps(1, end) infinite, morepos "+(e+.25)+"s steps(1, end) infinite";this._UInext.getChildren()[0].style.animation=t,this._UIprevious.getChildren()[0].style.animation=t},stopLoadingUI:function(){this._UInext.getChildren()[0].addClassName("hide"),this._UIprevious.getChildren()[0].addClassName("hide")},registerLeftArrowCB:function(e){this.leftArrowCB=e,this._UIprevious.addEventListener(t.POINTERUP,this.leftArrowCB,!1)},unregisterLeftArrowCB:function(){this.leftArrowCB&&this._UIprevious&&(this._UIprevious.removeEventListener(t.POINTERUP,this.leftArrowCB),this.leftArrowCB=null)},registerRightArrowCB:function(e){this.rightArrowCB=e,this._UInext.addEventListener(t.POINTERUP,this.rightArrowCB,!1)},unregisterRightArrowCB:function(){this.rightArrowCB&&this._UInext&&(this._UInext.removeEventListener(t.POINTERUP,this.rightArrowCB),this.rightArrowCB=null)},registerDotClickCB:function(e){this.dotClickCB=e,this.onPointerDownCB=function(e){if(!e.currentTarget.hasClassName("forPlayGuidedTourCmd")){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();var t=e.target?e.target.dataset.scenarioid:void 0;void 0!==t&&this.dotClickCB(t)}}.bind(this),this._UI_dot_Container.addEventListener(t.POINTERUP,this.onPointerDownCB)},registerDotMouseOverCB:function(e){this.cloneDomThumbnailElementCB=e,this.onMouseOverDotCB=function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();var t=e.path?e.path[0].dataset.scenarioid:void 0;if(void 0!==t){var i=this.cloneDomThumbnailElementCB(t);this._UI_dot_Container_clone.innerHTML="",this._UI_dot_Container_clone.appendChild(i)}}.bind(this),this.onMouseOutCB=function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),void 0!==(e.path?e.path[0].dataset.scenarioid:void 0)&&(this._UI_dot_Container_clone.innerHTML="")}.bind(this),this._UI_dot_Container.addEventListener("mouseover",this.onMouseOverDotCB),this._UI_dot_Container.addEventListener("mouseout",this.onMouseOutCB)},removeArrowFirstOrLastScene:function(e,t){if(this._state){var i=t.length,n=t.indexOf(e);1===i?(this._UInext.addClassName("hide"),this._UIprevious.addClassName("hide")):n===i-1?(this._UInext.addClassName("hide"),this._UIprevious.removeClassName("hide")):0===n?(this._UInext.removeClassName("hide"),this._UIprevious.addClassName("hide")):(this._UInext.removeClassName("hide"),this._UIprevious.removeClassName("hide"))}}})});